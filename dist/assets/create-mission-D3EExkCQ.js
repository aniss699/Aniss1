import{r as l,j as o}from"./ui-BW6CElO3.js";import{u as y,B as b,A as h}from"./index-BhT3yI4q.js";import{P as j}from"./progressive-flow-DW6jW0VC.js";import{o as v,u as c,a as N,s as e,e as w,d as S,n as T}from"./types-B-FkpF08.js";import"./vendor-D3F3s8fL.js";import"./badge-D67cI0oA.js";import"./textarea-TQ3eUg2u.js";import"./lucide-react-Cwtp9dYX.js";import"./activity-CgtFslWj.js";import"./hand-BrdRyTHL.js";import"./award-Da_ju2rh.js";import"./book-open-C3DL7_gX.js";import"./calendar-CKbPlIMb.js";import"./save-Dk9T1tsk.js";import"./chevron-left-CefPFZ0V.js";import"./chevron-up-BgaAQNYQ.js";import"./circle-alert-BgxZTAj2.js";import"./circle-check-big-BmaPehmO.js";import"./circle-x-DCHiDKvy.js";import"./clock-D-H53veR.js";import"./video-D0UimFOP.js";import"./euro-vhcSCDHr.js";import"./eye-C8AIrXBL.js";import"./settings-0-xO_mCr.js";import"./filter-Cdt0nz-0.js";import"./rocket-QT0FlQcF.js";import"./house-C9hf2fyC.js";import"./lightbulb-C0awd8qv.js";import"./loader-circle-fxgqaRf5.js";import"./trophy-fkzMgW01.js";import"./mail-D4mXFdIs.js";import"./map-pin-CvC9KeED.js";import"./message-circle-BI5H-nN3.js";import"./phone-xWtHDaLq.js";import"./refresh-cw-uAVRs8OB.js";import"./repeat-kXUNcxTt.js";import"./send-4JLpWfB9.js";import"./shield-RGJ6hH7Y.js";import"./square-pen--h_VsaQC.js";import"./star-207CXKzq.js";import"./thumbs-up-eQJJfLc9.js";import"./trash-2-CIQguhin.js";import"./trending-up-CC3byVlb.js";import"./triangle-alert-BSR6B83i.js";import"./wand-sparkles-nc22yVW9.js";import"./categories-DUi1-GTl.js";import"./feedback-buttons-Vkd92Wg4.js";import"./select-P4hdVdme.js";import"./index-DDShL7U6.js";import"./switch-CgliLpiV.js";v({title:e().min(1,"Le titre est requis"),description:e().min(10,"La description doit contenir au moins 10 caract√®res"),category:e().min(1,"La cat√©gorie est requise"),budget:c([e(),T()]).optional(),location:e().optional(),urgency:w(["low","medium","high"]).default("medium"),requirements:e().optional(),tags:N(e()).optional(),deadline:c([e(),S()]).optional()});function wo(){const[,n]=y(),[d,m]=l.useState(!1),[u,p]=l.useState(null),g=r=>n(r),x=async r=>{try{m(!0),p(null),console.log("üöÄ Frontend: Submitting mission data:",JSON.stringify(r,null,2));const t=await fetch("/api/missions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});console.log("üì° Frontend: Response status:",t.status),console.log("üì° Frontend: Response headers:",Object.fromEntries(t.headers.entries()));const s=await t.text();if(console.log("üì° Frontend: Raw response:",s),!t.ok){let i="Failed to create mission";try{const a=JSON.parse(s);i=a.error||a.details||i}catch{i=s||i}throw new Error(i)}const f=JSON.parse(s);console.log("‚úÖ Frontend: Mission created successfully:",f),g("/missions")}catch(t){console.error("‚ùå Frontend: Error creating mission:",t),p(t instanceof Error?t.message:"Failed to create mission. Please try again.")}finally{m(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs(b,{variant:"ghost",onClick:()=>n("/"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[o.jsx(h,{className:"w-4 h-4"}),"Retour √† l'accueil"]})}),o.jsxs("div",{className:"px-2 sm:px-0 relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-200/20 via-indigo-200/15 to-purple-200/20 rounded-3xl blur-2xl transform -rotate-1 scale-105"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-indigo-100/30 via-purple-100/20 to-blue-100/25 rounded-3xl blur-xl transform rotate-1 scale-102"}),o.jsx("div",{className:"relative z-10",children:o.jsx(j,{onSubmit:x,isLoading:d,error:u,onComplete:r=>{console.log("Donn√©es du projet:",r)}})})]})]})})}export{wo as default};
