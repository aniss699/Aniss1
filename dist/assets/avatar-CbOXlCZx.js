import{r as s,j as d,G as b,c as I,f as j,k as m}from"./ui-DaZ93cLC.js";import{O as _,H as v}from"./index-DWeSuU2Z.js";function P(e){const t=k(e),r=s.forwardRef((n,o)=>{const{children:a,...u}=n,i=s.Children.toArray(a),l=i.find(V);if(l){const c=l.props.children,f=i.map(p=>p===l?s.Children.count(c)>1?s.Children.only(null):s.isValidElement(c)?c.props.children:null:p);return d.jsx(t,{...u,ref:o,children:s.isValidElement(c)?s.cloneElement(c,void 0,f):null})}return d.jsx(t,{...u,ref:o,children:a})});return r.displayName=`${e}.Slot`,r}function k(e){const t=s.forwardRef((r,n)=>{const{children:o,...a}=r;if(s.isValidElement(o)){const u=O(o),i=$(a,o.props);return o.type!==s.Fragment&&(i.ref=n?b(n,u):u),s.cloneElement(o,i)}return s.Children.count(o)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var F=Symbol("radix.slottable");function V(e){return s.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===F}function $(e,t){const r={...t};for(const n in t){const o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...i)=>{const l=a(...i);return o(...i),l}:o&&(r[n]=o):n==="style"?r[n]={...o,...a}:n==="className"&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}function O(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var T=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],g=T.reduce((e,t)=>{const r=P(`Primitive.${t}`),n=s.forwardRef((o,a)=>{const{asChild:u,...i}=o,l=u?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...i,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function W(){return _.useSyncExternalStore(H,()=>!0,()=>!1)}function H(){return()=>{}}var y="Avatar",[M,J]=I(y),[D,A]=M(y),x=s.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[o,a]=s.useState("idle");return d.jsx(D,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:a,children:d.jsx(g.span,{...n,ref:t})})});x.displayName=y;var E="AvatarImage",h=s.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:o=()=>{},...a}=e,u=A(E,r),i=B(n,a),l=j(c=>{o(c),u.onImageLoadingStatusChange(c)});return m(()=>{i!=="idle"&&l(i)},[i,l]),i==="loaded"?d.jsx(g.img,{...a,ref:t,src:n}):null});h.displayName=E;var w="AvatarFallback",R=s.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...o}=e,a=A(w,r),[u,i]=s.useState(n===void 0);return s.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>i(!0),n);return()=>window.clearTimeout(l)}},[n]),u&&a.imageLoadingStatus!=="loaded"?d.jsx(g.span,{...o,ref:t}):null});R.displayName=w;function S(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function B(e,{referrerPolicy:t,crossOrigin:r}){const n=W(),o=s.useRef(null),a=n?(o.current||(o.current=new window.Image),o.current):null,[u,i]=s.useState(()=>S(a,e));return m(()=>{i(S(a,e))},[a,e]),m(()=>{const l=p=>()=>{i(p)};if(!a)return;const c=l("loaded"),f=l("error");return a.addEventListener("load",c),a.addEventListener("error",f),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",c),a.removeEventListener("error",f)}},[a,r,t]),u}var C=x,N=h,L=R;const G=s.forwardRef(({className:e,...t},r)=>d.jsx(C,{ref:r,className:v("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));G.displayName=C.displayName;const q=s.forwardRef(({className:e,...t},r)=>d.jsx(N,{ref:r,className:v("aspect-square h-full w-full",e),...t}));q.displayName=N.displayName;const K=s.forwardRef(({className:e,...t},r)=>d.jsx(L,{ref:r,className:v("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));K.displayName=L.displayName;export{G as A,q as a,K as b};
