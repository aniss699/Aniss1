import{r as t,j as e}from"./ui-BW6CElO3.js";import{u as O,d as z,C as i,a as y,n as C,b as o,L as S,I as A,B as L,Z as E,G as F,l as G}from"./index-Dbr_6-a3.js";import{A as n,a as c}from"./alert-rsNqVRSE.js";import{B as J}from"./badge-BMpw597N.js";import{v as Z}from"./aiService-ByxDmjpO.js";import{a as T,L as H,T as U}from"./trophy-BV_AQ-zq.js";import{M as K}from"./mail-Cw6OB-FR.js";import{S as $}from"./star-D4TkksVS.js";import{C as Q}from"./circle-check-big-DSkdSP5c.js";import{S as W}from"./shield-Ct7zWNhk.js";import"./vendor-D3F3s8fL.js";function ne(){const[,D]=O(),{login:I}=z(),[d,m]=t.useState(""),[x,p]=t.useState(""),[h,u]=t.useState(!1),[g,j]=t.useState(""),[f,b]=t.useState(""),[N,B]=t.useState(null),[v,w]=t.useState(!1),R=[{email:"demo@swideal.com",password:"demo123",name:"Emma Rousseau",role:"CLIENT",description:"Compte client d√©mo pour tester la plateforme",icon:e.jsx(F,{className:"w-5 h-5"}),color:"blue",stats:["Nouveau compte","Tests disponibles","Interface client"]},{email:"prestataire@swideal.com",password:"demo123",name:"Julien Moreau",role:"PRO",description:"Compte prestataire d√©mo pour d√©couvrir les outils",icon:e.jsx(G,{className:"w-5 h-5"}),color:"green",stats:["Nouveau profil","Outils pros","Tests IA"]},{email:"admin@swideal.com",password:"admin123",name:"Clara Dubois",role:"ADMIN",description:"Administrateur plateforme avec acc√®s complet",icon:e.jsx(W,{className:"w-5 h-5"}),color:"purple",stats:["Acc√®s IA complet","Analytics avanc√©es","Gestion plateforme"]}],V=async s=>{s.preventDefault(),u(!0),j(""),b("");try{const a=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,password:x})}),r=await a.json();if(!a.ok)throw new Error(r.error||"Erreur de connexion");I(r.user),b(r.message),setTimeout(()=>{D("/")},1e3)}catch(a){j(a.message||"Erreur de connexion")}finally{u(!1)}},k=(s,a)=>{m(s),p(a)},M=async()=>{w(!0);try{const s=await Z();B(s),console.log("R√©sultat v√©rification:",s)}catch(s){console.error("Erreur v√©rification:",s)}finally{w(!1)}},P=s=>{const a={blue:{bg:"bg-blue-50 hover:bg-blue-100",border:"border-blue-200",text:"text-blue-700",icon:"text-blue-600"},green:{bg:"bg-green-50 hover:bg-green-100",border:"border-green-200",text:"text-green-700",icon:"text-green-600"},purple:{bg:"bg-purple-50 hover:bg-purple-100",border:"border-purple-200",text:"text-purple-700",icon:"text-purple-600"}};return a[s]||a.blue};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-4xl w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-2 flex items-center justify-center",children:[e.jsx(T,{className:"w-10 h-10 mr-3 text-blue-600"}),"Connexion Swideal"]}),e.jsx("p",{className:"text-xl text-gray-600",children:"Acc√©dez √† votre espace personnel ou utilisez un compte de d√©monstration"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(i,{className:"shadow-lg",children:[e.jsx(y,{children:e.jsx(C,{className:"text-2xl text-center",children:"Se connecter"})}),e.jsx(o,{children:e.jsxs("form",{onSubmit:V,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(S,{htmlFor:"email",className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-4 h-4"}),"Email"]}),e.jsx(A,{id:"email",type:"email",value:d,onChange:s=>m(s.target.value),placeholder:"votre@email.com",required:!0,"data-testid":"input-email"})]}),e.jsxs("div",{children:[e.jsxs(S,{htmlFor:"password",className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4"}),"Mot de passe"]}),e.jsx(A,{id:"password",type:"password",value:x,onChange:s=>p(s.target.value),placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",required:!0,"data-testid":"input-password"})]}),g&&e.jsx(n,{className:"bg-red-50 border-red-200",children:e.jsx(c,{className:"text-red-700",children:g})}),f&&e.jsx(n,{className:"bg-green-50 border-green-200",children:e.jsx(c,{className:"text-green-700",children:f})}),e.jsx(L,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:h,"data-testid":"button-login",children:h?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border border-white border-t-transparent rounded-full animate-spin"}),"Connexion..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"w-4 h-4"}),"Se connecter"]})})]})})]}),e.jsxs(i,{className:"shadow-lg",children:[e.jsxs(y,{children:[e.jsxs(C,{className:"text-2xl text-center flex items-center justify-center gap-2",children:[e.jsx(E,{className:"w-6 h-6 text-yellow-600"}),"Comptes D√©mo"]}),e.jsx("p",{className:"text-center text-gray-600",children:"Testez la plateforme avec des comptes pr√©-configur√©s"})]}),e.jsxs(o,{className:"space-y-4",children:[R.map((s,a)=>{const r=P(s.color);return e.jsx(i,{className:`${r.bg} ${r.border} border transition-all cursor-pointer hover:shadow-md`,onClick:()=>k(s.email,s.password),"data-testid":`card-demo-${s.role.toLowerCase()}`,children:e.jsx(o,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-12 h-12 ${r.bg} rounded-lg flex items-center justify-center border ${r.border}`,children:e.jsx("div",{className:r.icon,children:s.icon})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:`font-semibold ${r.text}`,children:s.name}),e.jsx(J,{variant:"outline",className:`text-xs ${r.text} ${r.border}`,children:s.role})]}),e.jsx("p",{className:`text-sm ${r.text} mb-2`,children:s.description}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.stats.map((q,l)=>e.jsxs("div",{className:`flex items-center gap-1 text-xs ${r.text}`,children:[l===0&&e.jsx(U,{className:"w-3 h-3"}),l===1&&e.jsx($,{className:"w-3 h-3"}),l===2&&e.jsx(E,{className:"w-3 h-3"}),e.jsx("span",{children:q})]},l))}),e.jsxs("div",{className:`text-xs ${r.text} mt-2 font-mono`,children:["üìß ",s.email]})]})]})})},a)}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4 text-yellow-600"}),"Fonctionnalit√©s d√©bloqu√©es"]}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Syst√®me IA complet avec analyses pr√©dictives"}),e.jsx("li",{children:"‚Ä¢ Projets et offres r√©alistes pr√©-cr√©√©s"}),e.jsx("li",{children:"‚Ä¢ Tableau de bord interactif en temps r√©el"}),e.jsx("li",{children:"‚Ä¢ Donn√©es de march√© et m√©triques avanc√©es"})]})]}),e.jsx(L,{onClick:M,disabled:v,className:"w-full mt-4","data-testid":"button-verify-demo",children:v?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border border-white border-t-transparent rounded-full animate-spin"}),"V√©rification..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"w-4 h-4"}),"V√©rifier les comptes d√©mo"]})}),N&&e.jsx(n,{className:"mt-4",children:e.jsx(c,{children:N.message})})]})]})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs("p",{className:"text-gray-600",children:["Nouveau sur Swideal ?"," ",e.jsx("a",{href:"#",className:"text-blue-600 hover:underline font-medium",children:"Cr√©er un compte"})]})})]})})}export{ne as default};
