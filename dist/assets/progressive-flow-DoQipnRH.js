import{r as l,j as e}from"./ui-BcXBiFQq.js";import{g as Z,B as L,C as V,a as se,i as te,b as H,S as re,e as ae,f as ie,u as ne,Z as oe,T as j,L as le,I as K,F as ce}from"./index-Ds1ORiyf.js";import{B as F}from"./badge-bfp1m_7b.js";import{T as de}from"./textarea-CPKBBnz8.js";import{b as _,C as G}from"./categories-KhEpuZy7.js";import{R as X}from"./refresh-cw-BBwH0inM.js";import{E as Y}from"./euro-nOkhtGpw.js";import{T as me}from"./trending-up-BgsZFxL7.js";import{A as U}from"./feedback-buttons-BtKIHKNC.js";import{S as ue}from"./switch-BcSPYJUR.js";import{C as Q}from"./chevron-left-B-fJxpN-.js";import{M as xe}from"./map-pin-DXZVJs0s.js";import{C as pe}from"./calendar-QECs0Uaz.js";function ge({title:f,description:N,category:k,onPriceSuggestion:R}){const[E,C]=l.useState(!1),[r,m]=l.useState(null),{toast:T}=Z(),y=async()=>{if(!f||!N||!k){T({title:"Informations manquantes",description:"Veuillez remplir le titre, la description et la catégorie",variant:"destructive"});return}C(!0);try{await new Promise(g=>setTimeout(g,1500));const o=w(f,N,k);m(o),R?.(o),T({title:"Suggestion de prix générée !",description:"L'IA a analysé votre projet et propose une fourchette de prix"})}catch(o){console.error("Erreur suggestion prix:",o),T({title:"Erreur",description:"Impossible de générer la suggestion de prix",variant:"destructive"})}finally{C(!1)}},w=(o,g,h)=>{const c={développement:{base:500,min:.7,max:1.8,factors:["Complexité technique","Délais","Technologies"]},design:{base:300,min:.6,max:1.6,factors:["Créativité","Révisions","Supports"]},marketing:{base:400,min:.5,max:2,factors:["Audience","Canaux","Durée campagne"]},conseil:{base:600,min:.8,max:2.2,factors:["Expertise","Secteur","Urgence"]},travaux:{base:800,min:.9,max:1.5,factors:["Matériaux","Surface","Complexité"]},services:{base:250,min:.6,max:1.4,factors:["Durée","Fréquence","Spécialisation"]}},u=c[h]||c.services,S=g.toLowerCase().split(" "),d=["complexe","avancé","personnalisé","sur-mesure","intégration","api","base de données","responsive","mobile"].filter(P=>S.some(J=>J.includes(P))).length,$=Math.min(g.length/150,1.5),x=Math.min(d*.2,1),D=1+$*.3+x*.4,s=u.base,b=1.1,I=s*D*b,z=Math.round(I*u.min),B=Math.round(I*u.max),O=Math.round((z+B)/2),q={minPrice:z,maxPrice:B,averagePrice:O,factors:u.factors||["Analyse complexité","Marché local","Standards secteur"],confidence:.82+Math.random()*.15,baseCalculation:{basePrice:s,complexityFactor:D,marketAdjustment:b,sampleSize:Math.floor(200+Math.random()*150),keywordsFound:d,descriptionLength:g.length}};return console.log("Prix suggéré avec détails:",q),q},v=o=>o>=.8?"text-green-600":o>=.6?"text-yellow-600":"text-red-600";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(L,{onClick:y,disabled:E,variant:"outline",className:"w-full bg-blue-50 hover:bg-blue-100 border-blue-200",children:[E?e.jsx(X,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Suggérer un prix IA"]}),r&&e.jsxs(V,{className:"border-blue-200 bg-blue-50/50",children:[e.jsx(se,{children:e.jsxs(te,{className:"text-lg flex items-center text-blue-800",children:[e.jsx(me,{className:"w-5 h-5 mr-2"}),"Suggestion de prix IA",e.jsxs(F,{className:`ml-2 ${v(r.confidence)}`,children:[Math.round(r.confidence*100),"% confiance"]})]})}),e.jsxs(H,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Minimum"}),e.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[r.minPrice,"€"]})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-100 rounded-lg border-2 border-blue-300",children:[e.jsx("p",{className:"text-sm text-blue-700",children:"Recommandé"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-800",children:[r.averagePrice,"€"]})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Maximum"}),e.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[r.maxPrice,"€"]})]})]}),r.factors&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Facteurs analysés :"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.factors.map((o,g)=>e.jsx(F,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:o},g))})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg border border-blue-200",children:[e.jsxs("h4",{className:"font-semibold text-blue-900 mb-3 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"🧮"}),"Comment ce prix a été calculé"]}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-blue-400 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Prix de base :"})," ",r.baseCalculation?.basePrice?.toLocaleString("fr-FR")||"N/A",'€ (tarif moyen pour la catégorie "',k,'")']})]}),r.baseCalculation?.complexityFactor&&e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-orange-400 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Ajustement complexité :"})," x",r.baseCalculation.complexityFactor.toFixed(2),"(analyse du contenu et des exigences techniques)"]})]}),r.baseCalculation?.marketAdjustment&&e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-green-400 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Facteur marché :"})," x",r.baseCalculation.marketAdjustment.toFixed(2),"(demande et concurrence actuelles)"]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-purple-400 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Fourchette finale :"})," Calcul algorithmique basé sur ",r.baseCalculation?.sampleSize||"200+"," projets similaires"]})]}),e.jsx("div",{className:"mt-3 p-3 bg-white/60 rounded border-l-4 border-blue-400",children:e.jsxs("p",{className:"text-xs italic",children:["💡 ",e.jsx("strong",{children:"Méthodologie :"})," Notre IA analyse la description, identifie les mots-clés techniques, évalue la complexité et applique des coefficients basés sur les données du marché français pour cette catégorie."]})})]})]})]})]})]})]})}function W({currentText:f,fieldType:N,category:k="",onSuggestion:R,className:E=""}){const[C,r]=l.useState(!1),{toast:m}=Z(),[T,y]=l.useState(null),[w,v]=l.useState(!1),o=async()=>{if(console.log("🎯 Déclenchement suggestion pour:",{text:f.substring(0,50),fieldType:N,category:k}),!f.trim()){console.warn("❌ Texte vide fourni"),y("Aucun texte à améliorer");return}r(!0),y(null),v(!1);try{console.log("📡 Envoi requête /api/ai/enhance-text...");const h={text:f.trim(),fieldType:N,category:k||"général"};console.log("📦 Corps de la requête:",h);const c=await fetch("/api/ai/enhance-text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(console.log("📨 Réponse reçue, status:",c.status),!c.ok){const S=await c.text();console.error("❌ Erreur HTTP:",c.status,S);let M=`Erreur ${c.status}`;if(c.status===429)M="Quota IA dépassé - Essayez plus tard";else try{M=JSON.parse(S).error||S}catch{M=S||`Erreur ${c.status}`}throw new Error(M)}const u=await c.json();if(console.log("📋 Données reçues:",u),u.success&&u.data?.enhancedText)console.log("✅ Suggestion reçue avec succès"),u.data.enhancedText.length>f.trim().length*.8?(R(u.data.enhancedText),v(!0),m({title:"Texte amélioré !",description:"L'IA a optimisé votre texte"})):(console.warn("⚠️ Suggestion trop courte, conservation du texte original"),y("La suggestion générée semble incomplète"),m({title:"Suggestion Incomplète",description:"L'IA n'a pas pu améliorer le texte de manière significative.",variant:"destructive"}));else{console.error("❌ Réponse invalide:",u);const S=u.error||"Réponse invalide du serveur";throw new Error(S)}}catch(h){console.error("Erreur suggestion texte:",h);const c=h instanceof Error?h.message:"Erreur inconnue";y(c),m({title:"Erreur",description:`IA temporairement indisponible: ${c}`,variant:"destructive"})}finally{r(!1)}},g=()=>{switch(N){case"title":return"Améliorer le titre";case"description":return"Enrichir la description";case"requirements":return"Préciser les exigences";default:return"Suggestion IA"}};return e.jsxs(L,{onClick:o,disabled:C||!f.trim(),variant:"outline",size:"sm",className:`bg-purple-50 hover:bg-purple-100 border-purple-200 text-purple-700 ${E}`,children:[C?e.jsx(X,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(re,{className:"w-4 h-4 mr-2"}),g()]})}function Fe({onComplete:f,onSubmit:N,isLoading:k,error:R}){const{user:E}=ae(),C=ie(),[r,m]=l.useState(-1),[T,y]=l.useState(!1),[w,v]=l.useState(null),{toast:o}=Z(),[,g]=ne(),[h,c]=l.useState(!1),[u,S]=l.useState(!1),M=i=>({Hammer:j,Home:j,Baby:j,BookOpen:ce,Heart:j,Car:j,ChefHat:j,Calendar:pe,Camera:j,Briefcase:j})[i]||j,[d,$]=l.useState(null),[x,D]=l.useState(""),[s,b]=l.useState({title:"",description:"",budget:"",location:{address:"",lat:null,lng:null,radius:10},needsLocation:!1}),[I,z]=l.useState(null),[B,O]=l.useState(!1),[q,P]=l.useState({}),J=async()=>{y(!0);try{if(h){const i=await fetch("/api/team/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:s.description,title:s.title,category:x,budget:s.budget})});if(i.ok){const p=await i.json(),a=await fetch("/api/team/create-project",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectData:{title:s.title,description:s.description,category:x,budget:s.budget,location:s.needsLocation?s.location.address:"Remote",isTeamMode:!0},teamRequirements:p.professions})});if(a.ok){const t=await a.json();o({title:"Projet équipe créé !",description:`Votre projet a été divisé en ${t.subMissions.length} missions spécialisées.`}),C.invalidateQueries({queryKey:["missions"]}),g("/missions"),f?.({serviceType:d,selectedCategory:x,projectData:s,projectId:t.project.id})}else{const t=await a.json();throw new Error(t.error||"Erreur lors de la création du projet")}}else{const p=await i.json();throw new Error(p.error||"Erreur lors de l'analyse d'équipe")}}else{const i={title:s.title,description:s.description,category:x,budget:Number(s.budget),location:s.needsLocation?s.location.address:"Remote",userId:E?.id?.toString()||null,clientName:E?.name||"Utilisateur"};if(N){console.log("🔄 Utilisation de onSubmit fourni par create-mission.tsx"),await N(i);return}const p=await fetch("/api/missions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(p.ok){const a=await p.json();console.log("✅ Mission créée avec succès:",a),o({title:"Mission créée !",description:"Votre mission a été publiée avec succès."}),C.invalidateQueries({queryKey:["missions"]}),g("/missions"),f?.({serviceType:d,selectedCategory:x,projectData:s,missionId:a.id})}else{const a=await p.json();throw new Error(a.error||"Erreur lors de la création de la mission")}}}catch(i){console.error("Erreur création mission:",i),o({title:"Erreur de création",description:i.message||"Impossible de créer la mission. Vérifiez votre connexion.",variant:"destructive"})}finally{y(!1)}};l.useEffect(()=>{const i=setTimeout(()=>{},100);return()=>clearTimeout(i)},[r]);const ee=[()=>e.jsxs("div",{className:"min-h-[calc(100vh-4rem)] md:min-h-[calc(100vh-5rem)] relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-900 via-purple-900 to-blue-900 opacity-95"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-purple-500/10 to-cyan-400/20"}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-20 left-10 w-2 h-2 bg-yellow-400 rounded-full animate-ping opacity-75"}),e.jsx("div",{className:"absolute top-40 right-20 w-1.5 h-1.5 bg-pink-400 rounded-full animate-pulse opacity-60"}),e.jsx("div",{className:"absolute bottom-32 left-1/4 w-3 h-3 bg-cyan-400 rounded-full animate-bounce opacity-50"}),e.jsx("div",{className:"absolute top-1/3 right-1/3 w-2.5 h-2.5 bg-purple-400 rounded-full animate-ping opacity-70 animation-delay-1000"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-1 h-1 bg-green-400 rounded-full animate-pulse opacity-80"})]}),e.jsx("div",{className:"relative z-10 flex flex-col justify-center items-center min-h-full px-4 py-8",children:e.jsxs("div",{className:"text-center space-y-8 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"relative",children:[e.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-pink-500 to-cyan-400 mb-4 animate-bounce-in tracking-tight",children:"🎯 SwipDEAL"}),e.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-yellow-400/20 via-pink-500/20 to-cyan-400/20 rounded-full blur-xl animate-pulse"})]}),e.jsxs("h2",{className:"text-xl md:text-3xl lg:text-4xl font-bold text-white animate-slide-up leading-tight",children:["Révolutionne ta façon de",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-orange-400 animate-sparkle",children:" trouver"})," et",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-green-300 to-cyan-400 animate-sparkle",children:" collaborer"})]}),e.jsxs("p",{className:"text-lg md:text-xl text-gray-200 font-medium max-w-2xl mx-auto animate-slide-up leading-relaxed",children:["Fini les recherches interminables et les négociations douloureuses.",e.jsx("span",{className:"text-yellow-300 font-bold",children:" SwipDEAL"})," met le pouvoir entre tes mains."]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-12 animate-fade-in",children:[e.jsxs("div",{className:"group relative",children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-pink-500 to-violet-500 rounded-2xl blur opacity-75 group-hover:opacity-100 transition duration-1000 group-hover:duration-200 animate-pulse"}),e.jsx("div",{className:"relative bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20 transform transition-all duration-500 hover:scale-105 hover:-rotate-1 hover:shadow-2xl",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"text-5xl animate-bounce",children:"⚡"}),e.jsx("div",{className:"absolute -inset-2 bg-yellow-400/30 rounded-full blur-md animate-pulse"})]}),e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white",children:"L'Enchère Inversée"}),e.jsxs("p",{className:"text-gray-200 text-sm md:text-base leading-relaxed",children:[e.jsx("span",{className:"text-yellow-300 font-semibold",children:"Tu poses ton besoin"}),", les pros se battent pour te donner le",e.jsx("span",{className:"text-pink-300 font-semibold",children:" meilleur prix"})," !"]}),e.jsxs("div",{className:"flex justify-center space-x-2 mt-4",children:[e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-pink-500/20 to-violet-500/20 text-pink-200 text-xs rounded-full border border-pink-400/30",children:"Prix compétitifs"}),e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 text-yellow-200 text-xs rounded-full border border-yellow-400/30",children:"Zéro négociation"})]})]})})]}),e.jsxs("div",{className:"group relative",children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-cyan-500 to-green-500 rounded-2xl blur opacity-75 group-hover:opacity-100 transition duration-1000 group-hover:duration-200 animate-pulse"}),e.jsx("div",{className:"relative bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20 transform transition-all duration-500 hover:scale-105 hover:rotate-1 hover:shadow-2xl",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"text-5xl animate-bounce animation-delay-500",children:"🤝"}),e.jsx("div",{className:"absolute -inset-2 bg-cyan-400/30 rounded-full blur-md animate-pulse animation-delay-500"})]}),e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white",children:"Connexion Stratégique"}),e.jsxs("p",{className:"text-gray-200 text-sm md:text-base leading-relaxed",children:[e.jsx("span",{className:"text-cyan-300 font-semibold",children:"Accès direct aux experts"}),"grâce aux réseaux.",e.jsx("span",{className:"text-green-300 font-semibold",children:"Monétise tes contacts"})," !"]}),e.jsxs("div",{className:"flex justify-center space-x-2 mt-4",children:[e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-cyan-500/20 to-green-500/20 text-cyan-200 text-xs rounded-full border border-cyan-400/30",children:"Réseau premium"}),e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-green-500/20 to-emerald-500/20 text-green-200 text-xs rounded-full border border-green-400/30",children:"Revenus passifs"})]})]})})]})]}),e.jsxs("div",{className:"relative mt-8 animate-slide-up animation-delay-1000",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/30 to-pink-600/30 rounded-2xl blur-lg"}),e.jsx("div",{className:"relative bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/30",children:e.jsxs("p",{className:"text-lg md:text-xl text-center text-white font-semibold leading-relaxed",children:[e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-pink-300 text-2xl",children:"✨ SwipDEAL ✨"}),e.jsx("br",{}),"Transforme chaque collaboration en",e.jsx("span",{className:"text-yellow-300 font-bold",children:" art du deal"})]})})]}),e.jsxs("div",{className:"mt-10 animate-bounce-in animation-delay-1500",children:[e.jsxs("div",{className:"relative inline-block group",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-yellow-400 via-pink-500 to-cyan-500 rounded-2xl blur-lg group-hover:blur-xl transition duration-300 animate-pulse"}),e.jsx(L,{onClick:()=>m(0),className:"relative bg-gradient-to-r from-yellow-500 via-pink-500 to-cyan-500 hover:from-yellow-400 hover:via-pink-400 hover:to-cyan-400 text-white font-black text-lg md:text-xl px-12 py-6 rounded-2xl shadow-2xl transform transition-all duration-300 hover:scale-110 hover:-translate-y-2 border-2 border-white/30",size:"lg",children:e.jsxs("span",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl animate-bounce",children:"🚀"}),e.jsx("span",{children:"COMMENCER L'AVENTURE"}),e.jsx("span",{className:"text-2xl animate-pulse",children:"⚡"})]})})]}),e.jsx("p",{className:"text-gray-300 text-sm mt-4 animate-pulse",children:"🎯 Rejoins des milliers d'entrepreneurs malins"})]})]})})]}),()=>e.jsxs("div",{className:"text-center space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 progressive-flow-title",children:"Comment souhaitez-vous procéder ?"}),e.jsx("p",{className:"text-gray-600 progressive-flow-description",children:"Sélectionnez la méthode qui vous convient le mieux"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl mx-auto progressive-flow-grid",children:[e.jsx(V,{className:`cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-1 group card-shine progressive-flow-card ${d==="mise-en-relation"?"ring-2 ring-purple-500 bg-purple-50":"hover:bg-purple-50/30"} ${w==="mise-en-relation"?"scale-95 ring-4 ring-purple-400 bg-purple-100 animate-pulse-glow":""}`,onClick:()=>{$("mise-en-relation"),v("mise-en-relation"),setTimeout(()=>{m(1),v(null)},400)},children:e.jsxs(H,{className:"p-6 text-center",children:[e.jsx(oe,{className:`w-12 h-12 mx-auto mb-4 text-purple-600 transition-all duration-300 group-hover:scale-110 group-hover:rotate-12 ${w==="mise-en-relation"?"scale-125 animate-pulse text-purple-800":""}`}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Mise en relation"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Contact direct avec des prestataires sélectionnés"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{variant:"secondary",children:"Contact immédiat"}),e.jsx(F,{variant:"secondary",children:"Profils vérifiés"})]})]})}),e.jsx(V,{className:`cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-1 group card-shine progressive-flow-card ${d==="appel-offres"?"ring-2 ring-orange-500 bg-orange-50":"hover:bg-orange-50/30"} ${w==="appel-offres"?"scale-95 ring-4 ring-orange-400 bg-orange-100 animate-pulse-glow":""}`,onClick:()=>{$("appel-offres"),v("appel-offres"),setTimeout(()=>{m(1),v(null)},400)},children:e.jsxs(H,{className:"p-6 text-center",children:[e.jsx(j,{className:`w-12 h-12 mx-auto mb-4 text-orange-600 transition-all duration-300 group-hover:scale-110 group-hover:rotate-12 ${w==="appel-offres"?"scale-125 animate-pulse text-orange-800":""}`}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Appel d'offres"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Recevez plusieurs propositions et choisissez la meilleure"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{variant:"secondary",children:"Enchère inversée"}),e.jsx(F,{variant:"secondary",children:"+50 prestataires"})]})]})})]}),e.jsxs(L,{variant:"outline",onClick:()=>m(-1),className:"mt-4",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Retour"]})]}),()=>{const i=d==="mise-en-relation"?_:G,p=d==="mise-en-relation"?"expert":"projet";return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-center space-y-2 animate-fade-in",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 animate-bounce-in progressive-flow-title",children:"Dans quel domaine ?"}),e.jsxs("p",{className:"text-gray-600 animate-slide-up progressive-flow-description",children:["Sélectionnez la catégorie qui correspond à votre ",p]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 category-grid",children:i.map(a=>e.jsx(V,{className:`cursor-pointer transition-all duration-300 hover:shadow-lg hover:scale-105 hover:-translate-y-1 group card-shine ${x===a.id?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-blue-50/20"} ${w===a.id?"scale-95 ring-4 ring-blue-400 bg-blue-100 animate-pulse-glow":""}`,onClick:()=>{D(a.id),v(a.id),setTimeout(()=>{m(2),v(null)},400)},children:e.jsxs(H,{className:"p-4 text-center category-card",children:[e.jsx("div",{className:"mb-3",children:(()=>{const t=M(a.icon);return e.jsx(t,{className:`w-8 h-8 mx-auto ${a.color} transition-all duration-300 group-hover:scale-110 group-hover:rotate-6 ${w===a.id?"scale-125 animate-pulse":""}`})})()}),e.jsx("h3",{className:"font-medium text-sm leading-tight",children:a.name}),a.description&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a.description})]})},a.id))}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(L,{variant:"outline",onClick:()=>m(0),children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Retour"]})})]})},()=>{const p=(d==="mise-en-relation"?_:G).find(t=>t.id===x),a=d==="mise-en-relation"?"demande de contact":"projet";return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-center space-y-2 animate-fade-in",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 animate-bounce-in progressive-flow-title",children:["Décrivez votre ",a," ",p?.name]}),e.jsxs("p",{className:"text-gray-600 animate-slide-up progressive-flow-description",children:["Plus votre description est précise, ",d==="mise-en-relation"?"plus les experts seront adaptés":"meilleures seront les propositions"]})]}),e.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto progressive-flow-form",children:[e.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx(ue,{id:"team-mode",checked:h,onCheckedChange:c}),e.jsx(le,{htmlFor:"team-mode",className:"text-blue-900 font-medium",children:"🤝 Mode équipe - Diviser le projet en plusieurs spécialités"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Titre du ",a," *"]}),e.jsx(W,{currentText:s.title,fieldType:"title",category:x,onSuggestion:t=>{b(n=>({...n,title:t})),P(n=>({...n,title:!0}))},className:"text-xs"})]}),e.jsx(K,{placeholder:d==="mise-en-relation"?`Ex: Recherche ${p?.name.toLowerCase()} pour conseil juridique`:"Ex: Création d'un site web e-commerce",value:s.title,onChange:t=>b(n=>({...n,title:t.target.value}))}),q.title&&e.jsx("div",{className:"mt-2",children:e.jsx(U,{phase:"brief_enhance",prompt:{field:"title",text:s.title},onFeedback:()=>P(t=>({...t,title:!1}))})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description détaillée *"}),e.jsx(W,{currentText:s.description,fieldType:"description",category:x,onSuggestion:t=>{b(n=>({...n,description:t})),P(n=>({...n,description:!0}))},className:"text-xs"})]}),e.jsx(de,{placeholder:d==="mise-en-relation"?"Décrivez le type de consultation recherchée, vos besoins spécifiques, le contexte...":"Décrivez précisément votre besoin, vos objectifs, contraintes techniques...",rows:4,value:s.description,onChange:t=>b(n=>({...n,description:t.target.value}))}),q.description&&e.jsx("div",{className:"mt-2",children:e.jsx(U,{phase:"brief_enhance",prompt:{field:"description",text:s.description},onFeedback:()=>P(t=>({...t,description:!1}))})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Y,{className:"w-4 h-4 inline mr-1"}),"Budget en euros *"]}),e.jsx(K,{type:"number",placeholder:"Ex: 5000",min:"10",max:"1000000",value:s.budget,onChange:t=>b(n=>({...n,budget:t.target.value})),required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Montant en euros (entre 10€ et 1 000 000€)"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx(ge,{title:s.title,description:s.description,category:x,onPriceSuggestion:t=>{const n=`${t.minPrice} - ${t.maxPrice} €`;b(A=>({...A,budget:n})),z({type:"pricing",data:t}),O(!0)}}),B&&I&&e.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"🤖 Comment trouvez-vous cette suggestion IA ?"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Votre retour nous aide à améliorer nos suggestions"})]}),e.jsx(U,{phase:"brief_enhance",prompt:{title:s.title,description:s.description,category:x,suggestion:I},onFeedback:(t,n,A)=>{console.log("Feedback IA reçu:",{accepted:t,rating:n,edits:A}),O(!1),o({title:"Merci pour votre retour !",description:"Vos commentaires nous aident à améliorer l'IA"})}})]})]}),e.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(xe,{className:"w-5 h-5 mr-2 text-blue-600"}),"Localisation"]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"remote",name:"location-type",checked:!s.needsLocation,onChange:()=>b(t=>({...t,needsLocation:!1,location:{...t.location,address:""}})),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"remote",className:"text-sm font-medium text-gray-700",children:"À distance"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"onsite",name:"location-type",checked:s.needsLocation,onChange:()=>b(t=>({...t,needsLocation:!0})),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"onsite",className:"text-sm font-medium text-gray-700",children:"Intervention sur site"})]})]}),s.needsLocation&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Code postal (5 chiffres) *"}),e.jsx(K,{type:"text",placeholder:"Ex: 75001",pattern:"[0-9]{5}",maxLength:5,value:s.location.address,onChange:t=>{const n=t.target.value.replace(/[^0-9]/g,"").slice(0,5);b(A=>({...A,location:{...A.location,address:n}}))},className:"w-40"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Saisissez le code postal de l'intervention"})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(L,{variant:"outline",onClick:()=>m(1),children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Retour"]}),e.jsx(L,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 transform transition-all duration-300 hover:scale-105 hover:shadow-xl disabled:hover:scale-100 disabled:hover:shadow-none",disabled:T||!s.title.trim()||!s.description.trim()||!s.budget.trim()||isNaN(Number(s.budget))||Number(s.budget)<10||Number(s.budget)>1e6||s.needsLocation&&(!s.location.address||s.location.address.length!==5),onClick:J,children:T?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Création..."]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),h?"Créer le projet équipe":"Publier la mission"]})})]})]})]})}];return e.jsx("div",{className:"w-full max-w-6xl mx-auto progressive-flow-container",children:e.jsxs("div",{className:"bg-transparent pb-24",children:[e.jsx("div",{className:"px-4 relative progressive-flow-step",children:ee[r+1]()}),r>=0&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50/5 via-indigo-50/5 to-purple-50/5 p-3 rounded-xl mt-6 mb-6 border border-blue-200/20 backdrop-blur-sm progressive-flow-progress",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Étape ",r+1," sur 3"]}),e.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[Math.round((r+1)/3*100),"%"]})]}),e.jsx("div",{className:"w-full h-1 bg-gradient-to-r from-gray-100 to-gray-200 rounded-full overflow-hidden shadow-inner",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 rounded-full transition-all duration-700 ease-out shadow-sm relative",style:{width:`${(r+1)/3*100}%`},children:e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent rounded-full"})})}),e.jsx("div",{className:"flex justify-between mt-2",children:[1,2,3].map(i=>e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${i<=r+1?"bg-gradient-to-r from-blue-500 to-purple-500 shadow-sm":"bg-gray-300"}`}),e.jsx("span",{className:`text-xs mt-1 font-medium transition-colors duration-300 ${i<=r+1?"text-blue-600":"text-gray-400"}`,children:i})]},i))})]})]})})}export{Fe as P};
