import{r as c,j as e}from"./ui-BW6CElO3.js";import{u as y,B as b,A as v}from"./index-Dc-q1J-l.js";import{P as j}from"./progressive-flow-4CtCVUkT.js";import{o as w,u as d,a as N,s as t,e as S,d as T,n as E}from"./types-B-FkpF08.js";import"./vendor-D3F3s8fL.js";import"./badge-CjM9ThMm.js";import"./textarea-DlZPPU9w.js";import"./activity-CZ2NZ7Zk.js";import"./dollar-sign-B9234t-x.js";import"./award-CZ01pAm2.js";import"./book-open-DtbxXDcq.js";import"./calendar-C1ybr4we.js";import"./switch-J-YBP8bK.js";import"./index-DDShL7U6.js";import"./chevron-left-amD_TAmK.js";import"./chevron-up-af8JcEXI.js";import"./circle-alert-D7x-0abh.js";import"./circle-check-big-Dntu27NV.js";import"./circle-x-CUl-L6Nq.js";import"./hand-CxDNhhNz.js";import"./clock-AUiFetKH.js";import"./video-BPL4TJNv.js";import"./euro-hWitNI0P.js";import"./eye-Bn-3ZOuO.js";import"./filter-CvVTVU6q.js";import"./rocket-BMMODJ9z.js";import"./house-DRoCWv9i.js";import"./lightbulb-CaEC0r6U.js";import"./loader-circle-Cmc4_2-g.js";import"./trophy-Bmdq4-8G.js";import"./mail-DvwasN9p.js";import"./map-pin-CpnFbaGb.js";import"./message-circle-B0H4q3yu.js";import"./settings-DFNQLVhY.js";import"./phone-DeghlA_h.js";import"./refresh-cw-CxYdG9U0.js";import"./repeat-CpPRjhzC.js";import"./save-D0JsyXx0.js";import"./send-DI9FetIN.js";import"./shield-CbE-a-Cm.js";import"./square-pen-UN0Hl2qH.js";import"./star-BF6ZaPE7.js";import"./thumbs-up-Cb2IwQp6.js";import"./trash-2-qRCZZsZx.js";import"./trending-up-CXxgtGH6.js";import"./triangle-alert-DRwr2r9q.js";import"./user-check-Df1DJA0u.js";import"./wand-sparkles-CiCDwjmL.js";import"./categories-Ci5EyH-Y.js";import"./feedback-buttons-DancnhVb.js";const F=w({title:t().min(1,"Le titre est requis"),description:t().min(10,"La description doit contenir au moins 10 caract√®res"),category:t().min(1,"La cat√©gorie est requise"),budget:d([t(),E()]).optional(),location:t().optional(),urgency:S(["low","medium","high"]).default("medium"),requirements:t().optional(),tags:N(t()).default([]),deadline:d([t(),T()]).optional()});function Se(){const[,m]=y(),[u,p]=c.useState(!1),[g,l]=c.useState(null),h=i=>m(i),x=async i=>{try{p(!0),l(null);const r=F.parse(i);console.log("üöÄ Frontend: Submitting validated mission data:",JSON.stringify(r,null,2));try{if(!(await fetch("/api/health")).ok)throw new Error("Service temporairement indisponible")}catch{throw new Error("Impossible de contacter le serveur")}const s=await fetch("/api/missions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});console.log("üì° Frontend: Response status:",s.status),console.log("üì° Frontend: Response headers:",Object.fromEntries(s.headers.entries()));const a=await s.text();if(console.log("üì° Frontend: Raw response:",a),!s.ok){let o="√âchec de la cr√©ation de mission";try{const n=JSON.parse(a);o=n.error||n.details||o}catch{o=a||o}throw new Error(o)}const f=JSON.parse(a);console.log("‚úÖ Frontend: Mission created successfully:",f),h("/missions")}catch(r){console.error("‚ùå Frontend: Error creating mission:",r),l(r instanceof Error?r.message:"√âchec de la cr√©ation de mission. Veuillez r√©essayer.")}finally{p(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs(b,{variant:"ghost",onClick:()=>m("/"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[e.jsx(v,{className:"w-4 h-4"}),"Retour √† l'accueil"]})}),e.jsxs("div",{className:"px-2 sm:px-0 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-200/20 via-indigo-200/15 to-purple-200/20 rounded-3xl blur-2xl transform -rotate-1 scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-indigo-100/30 via-purple-100/20 to-blue-100/25 rounded-3xl blur-xl transform rotate-1 scale-102"}),e.jsx("div",{className:"relative z-10",children:e.jsx(j,{onSubmit:x,isLoading:u,error:g,onComplete:i=>{console.log("Donn√©es du projet:",i)}})})]})]})})}export{Se as default};
