import{r as l,j as e}from"./ui-BcXBiFQq.js";import{i as N,u as B,d as D,j as M,k as V,C as i,a as R,h as $,b as o,L as p,I as u,B as h,r as z,Z as T,w as O,o as F,v as P}from"./index-FFYZd1Jj.js";import{A as g,a as b}from"./alert-DskR6bxs.js";import{B as q}from"./badge-CYIUXsvp.js";import{v as H}from"./aiService-ByxDmjpO.js";import{M as J}from"./mail-C6LTZxWv.js";import{S as Z}from"./shield-FYgeaKqK.js";import"./vendor-D3F3s8fL.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=N("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=N("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);function se(){const[,f]=B(),{login:v}=D(),[n,c]=l.useState(""),[d,m]=l.useState(""),[x,w]=l.useState(null),y=M("/api/auth/login",{successMessage:"Connexion réussie ! Bienvenue sur Swideal",errorContext:"Connexion utilisateur",onSuccess:s=>{v(s.user),setTimeout(()=>{f("/")},1e3)}}),a=V({onSubmit:async s=>{y.mutate(s)},validateBeforeSubmit:P.validateAuth}),C=[{email:"demo@swideal.com",password:"demo123",name:"Emma Rousseau",role:"CLIENT",description:"Compte client démo pour tester la plateforme",icon:e.jsx(O,{className:"w-5 h-5"}),color:"blue",stats:["Nouveau compte","Tests disponibles","Interface client"]},{email:"prestataire@swideal.com",password:"demo123",name:"Julien Moreau",role:"PRO",description:"Compte prestataire démo pour découvrir les outils",icon:e.jsx(F,{className:"w-5 h-5"}),color:"green",stats:["Nouveau profil","Outils pros","Tests IA"]},{email:"admin@swideal.com",password:"admin123",name:"Clara Dubois",role:"ADMIN",description:"Administrateur plateforme avec accès complet",icon:e.jsx(Z,{className:"w-5 h-5"}),color:"purple",stats:["Accès IA complet","Analytics avancées","Gestion plateforme"]}],S=s=>{s.preventDefault(),a.handleSubmit({email:n,password:d})},A=(s,t)=>{c(s),m(t)},L=async()=>{try{const s=await H();w(s),console.log("Résultat vérification:",s)}catch(s){console.error("Erreur vérification:",s),a.handleError(s,"Vérification des comptes")}},k=s=>{const t={blue:{bg:"bg-blue-50 hover:bg-blue-100",border:"border-blue-200",text:"text-blue-700",icon:"text-blue-600"},green:{bg:"bg-green-50 hover:bg-green-100",border:"border-green-200",text:"text-green-700",icon:"text-green-600"},purple:{bg:"bg-purple-50 hover:bg-purple-100",border:"border-purple-200",text:"text-purple-700",icon:"text-purple-600"}};return t[s]||t.blue};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-4xl w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-2 flex items-center justify-center",children:[e.jsx(j,{className:"w-10 h-10 mr-3 text-blue-600"}),"Connexion Swideal"]}),e.jsx("p",{className:"text-xl text-gray-600",children:"Accédez à votre espace personnel ou utilisez un compte de démonstration"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(i,{className:"shadow-lg",children:[e.jsx(R,{children:e.jsx($,{className:"text-2xl text-center",children:"Se connecter"})}),e.jsx(o,{children:e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(p,{htmlFor:"email",className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-4 h-4"}),"Email"]}),e.jsx(u,{id:"email",type:"email",value:n,onChange:s=>c(s.target.value),placeholder:"votre@email.com",required:!0,"data-testid":"input-email"})]}),e.jsxs("div",{children:[e.jsxs(p,{htmlFor:"password",className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4"}),"Mot de passe"]}),e.jsx(u,{id:"password",type:"password",value:d,onChange:s=>m(s.target.value),placeholder:"••••••••",required:!0,"data-testid":"input-password"})]}),a.submitError&&e.jsx(g,{className:"bg-red-50 border-red-200",children:e.jsx(b,{className:"text-red-700",children:a.submitError})}),a.submitSuccess&&e.jsx(g,{className:"bg-green-50 border-green-200",children:e.jsx(b,{className:"text-green-700",children:a.submitSuccess})}),e.jsx(h,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:a.isSubmitting,"data-testid":"button-login",children:a.isSubmitting?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border border-white border-t-transparent rounded-full animate-spin"}),"Connexion..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"w-4 h-4"}),"Se connecter"]})})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Comptes de test"}),e.jsx("p",{className:"text-gray-600",children:"Découvrez Swideal avec nos comptes de démonstration"})]}),e.jsx("div",{className:"space-y-4",children:C.map((s,t)=>{const r=k(s.color);return e.jsx(i,{className:`transition-all duration-200 cursor-pointer ${r.bg} ${r.border} border-2 hover:shadow-lg`,onClick:()=>A(s.email,s.password),"data-testid":`demo-account-${s.role.toLowerCase()}`,children:e.jsx(o,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-3 rounded-full ${r.bg} ${r.icon}`,children:s.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:s.name}),e.jsx(q,{variant:"secondary",className:`${r.text} bg-white`,children:s.role})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:s.description}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.stats.map((E,I)=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(z,{className:"w-3 h-3 text-green-500"}),e.jsx("span",{className:"text-xs text-gray-700",children:E})]},I))}),e.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[e.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:s.email}),e.jsx("span",{className:"mx-2",children:"•"}),e.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:s.password})]})]})]})})},t)})}),e.jsx(i,{className:"bg-yellow-50 border-yellow-200 border-2",children:e.jsxs(o,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(T,{className:"w-5 h-5 text-yellow-600"}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Outils développeurs"})]}),e.jsx(h,{onClick:L,disabled:isVerifying,size:"sm",className:"bg-yellow-600 hover:bg-yellow-700 text-white","data-testid":"button-verify-demo",children:isVerifying?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 border border-white border-t-transparent rounded-full animate-spin"}),"Vérification..."]}):"Vérifier les comptes démo"}),x&&e.jsxs("div",{className:"mt-3 p-3 bg-white rounded border",children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Résultat de vérification :"}),e.jsx("pre",{className:"text-xs text-gray-600 overflow-x-auto",children:JSON.stringify(x,null,2)})]})]})})]})]})]})})}export{se as default};
