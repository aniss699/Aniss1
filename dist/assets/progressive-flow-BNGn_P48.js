import{r as c,j as e}from"./ui-BW6CElO3.js";import{d as ee,f as _,B as I,C as P,a as de,h as me,b as A,S as ue,u as xe,U as pe,Z as G,T as Q,L as ge,I as J}from"./index-BpHm5BMv.js";import{T as W}from"./textarea-BhyY0Euz.js";import{B as $}from"./badge-wbqNOTTq.js";import{b as X,C as Y}from"./categories-Ci5EyH-Y.js";import{R as se}from"./refresh-cw-Dw2FouS_.js";import{E as te}from"./euro-Dg_mjmeW.js";import{T as he}from"./trending-up-BxDfalQL.js";import{A as V}from"./feedback-buttons-njpi4bjL.js";import{S as be}from"./switch-8B4xLbYC.js";import{C as H}from"./chevron-left-CjYOsyRq.js";import{C as fe}from"./calendar-DXNopQVt.js";import{M as ve}from"./map-pin-C7C0CutY.js";function je(){const[j,f]=c.useState(!1),[N,y]=c.useState(null),{user:S}=ee(),{toast:w}=_(),o=c.useCallback(async i=>{try{if(f(!0),y(null),!S?.id){const r="Vous devez √™tre connect√© pour cr√©er une mission";return y(r),w({title:"Erreur d'authentification",description:r,variant:"destructive"}),{ok:!1,error:r}}if(!i.title?.trim()||i.title.trim().length<3){const r="Le titre doit contenir au moins 3 caract√®res";return y(r),{ok:!1,error:r}}if(!i.description?.trim()||i.description.trim().length<10){const r="La description doit contenir au moins 10 caract√®res";return y(r),{ok:!1,error:r}}const d={title:i.title.trim(),description:i.description.trim(),category:i.category||"developpement",budget:i.budget||1e3,location:i.location||"Remote",userId:S.id,isTeamMode:i.isTeamMode||!1,requirements:i.requirements?.trim()||void 0};console.log("üöÄ Creating mission:",d.title);const n=await fetch("/api/missions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!n.ok){const r=await n.json().catch(()=>({}));throw new Error(r.error||`Erreur ${n.status}`)}const l=await n.json();if(!l.ok||!l.id)throw new Error(l.error||"√âchec de la cr√©ation");return w({title:"Mission cr√©√©e !",description:`"${l.title}" a √©t√© publi√©e avec succ√®s`,variant:"default"}),console.log("‚úÖ Mission created successfully:",l.id),l}catch(d){const n=d instanceof Error?d.message:"Erreur inconnue";return console.error("‚ùå Mission creation failed:",n),y(n),w({title:"Erreur de cr√©ation",description:n,variant:"destructive"}),{ok:!1,error:n}}finally{f(!1)}},[S,w]),k=c.useCallback(async i=>o({...i,isTeamMode:!0}),[o]),q=c.useCallback(()=>{y(null)},[]);return{isLoading:j,error:N,createMission:o,createTeamProject:k,clearError:q}}function Ne({title:j,description:f,category:N,onPriceSuggestion:y}){const[S,w]=c.useState(!1),[o,k]=c.useState(null),{toast:q}=_(),i=async()=>{if(!j||!f||!N){q({title:"Informations manquantes",description:"Veuillez remplir le titre, la description et la cat√©gorie",variant:"destructive"});return}w(!0);try{await new Promise(r=>setTimeout(r,1500));const l=d(j,f,N);k(l),y?.(l),q({title:"Suggestion de prix g√©n√©r√©e !",description:"L'IA a analys√© votre projet et propose une fourchette de prix"})}catch(l){console.error("Erreur suggestion prix:",l),q({title:"Erreur",description:"Impossible de g√©n√©rer la suggestion de prix",variant:"destructive"})}finally{w(!1)}},d=(l,r,m)=>{const u={d√©veloppement:{base:500,min:.7,max:1.8,factors:["Complexit√© technique","D√©lais","Technologies"]},design:{base:300,min:.6,max:1.6,factors:["Cr√©ativit√©","R√©visions","Supports"]},marketing:{base:400,min:.5,max:2,factors:["Audience","Canaux","Dur√©e campagne"]},conseil:{base:600,min:.8,max:2.2,factors:["Expertise","Secteur","Urgence"]},travaux:{base:800,min:.9,max:1.5,factors:["Mat√©riaux","Surface","Complexit√©"]},services:{base:250,min:.6,max:1.4,factors:["Dur√©e","Fr√©quence","Sp√©cialisation"]}},b=u[m]||u.services,C=r.toLowerCase().split(" "),g=["complexe","avanc√©","personnalis√©","sur-mesure","int√©gration","api","base de donn√©es","responsive","mobile"].filter(M=>C.some(K=>K.includes(M))).length,D=Math.min(r.length/150,1.5),T=Math.min(g*.2,1),R=1+D*.3+T*.4,s=b.base,h=1.1,z=s*R*h,B=Math.round(z*b.min),U=Math.round(z*b.max),O=Math.round((B+U)/2),L={minPrice:B,maxPrice:U,averagePrice:O,factors:b.factors||["Analyse complexit√©","March√© local","Standards secteur"],confidence:.82+Math.random()*.15,baseCalculation:{basePrice:s,complexityFactor:R,marketAdjustment:h,sampleSize:Math.floor(200+Math.random()*150),keywordsFound:g,descriptionLength:r.length}};return console.log("Prix sugg√©r√© avec d√©tails:",L),L},n=l=>l>=.8?"text-green-600":l>=.6?"text-yellow-600":"text-red-600";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(I,{onClick:i,disabled:S,variant:"outline",className:"w-full bg-blue-50 hover:bg-blue-100 border-blue-200",children:[S?e.jsx(se,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(te,{className:"w-4 h-4 mr-2"}),"Sugg√©rer un prix IA"]}),o&&e.jsxs(P,{className:"border-blue-200 bg-blue-50/50",children:[e.jsx(de,{children:e.jsxs(me,{className:"text-lg flex items-center text-blue-800",children:[e.jsx(he,{className:"w-5 h-5 mr-2"}),"Suggestion de prix IA",e.jsxs($,{className:`ml-2 ${n(o.confidence)}`,children:[Math.round(o.confidence*100),"% confiance"]})]})}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Minimum"}),e.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[o.minPrice,"‚Ç¨"]})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-100 rounded-lg border-2 border-blue-300",children:[e.jsx("p",{className:"text-sm text-blue-700",children:"Recommand√©"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-800",children:[o.averagePrice,"‚Ç¨"]})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Maximum"}),e.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[o.maxPrice,"‚Ç¨"]})]})]}),o.factors&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Facteurs analys√©s :"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.factors.map((l,r)=>e.jsx($,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:l},r))})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg border border-blue-200",children:[e.jsxs("h4",{className:"font-semibold text-blue-900 mb-3 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"üßÆ"}),"Comment ce prix a √©t√© calcul√©"]}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-blue-400 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Prix de base :"})," ",o.baseCalculation?.basePrice?.toLocaleString("fr-FR")||"N/A",'‚Ç¨ (tarif moyen pour la cat√©gorie "',N,'")']})]}),o.baseCalculation?.complexityFactor&&e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-orange-400 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Ajustement complexit√© :"})," x",o.baseCalculation.complexityFactor.toFixed(2),"(analyse du contenu et des exigences techniques)"]})]}),o.baseCalculation?.marketAdjustment&&e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-green-400 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Facteur march√© :"})," x",o.baseCalculation.marketAdjustment.toFixed(2),"(demande et concurrence actuelles)"]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-purple-400 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Fourchette finale :"})," Calcul algorithmique bas√© sur ",o.baseCalculation?.sampleSize||"200+"," projets similaires"]})]}),e.jsx("div",{className:"mt-3 p-3 bg-white/60 rounded border-l-4 border-blue-400",children:e.jsxs("p",{className:"text-xs italic",children:["üí° ",e.jsx("strong",{children:"M√©thodologie :"})," Notre IA analyse la description, identifie les mots-cl√©s techniques, √©value la complexit√© et applique des coefficients bas√©s sur les donn√©es du march√© fran√ßais pour cette cat√©gorie."]})})]})]})]})]})]})]})}function Z({currentText:j,fieldType:f,category:N="",onSuggestion:y,className:S=""}){const[w,o]=c.useState(!1),{toast:k}=_(),[q,i]=c.useState(null),[d,n]=c.useState(!1),l=async()=>{if(console.log("üéØ D√©clenchement suggestion pour:",{text:j.substring(0,50),fieldType:f,category:N}),!j.trim()){console.warn("‚ùå Texte vide fourni"),i("Aucun texte √† am√©liorer");return}o(!0),i(null),n(!1);try{console.log("üì° Envoi requ√™te /api/ai/enhance-text...");const m={text:j.trim(),fieldType:f,category:N||"g√©n√©ral"};console.log("üì¶ Corps de la requ√™te:",m);const u=await fetch("/api/ai/enhance-text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(console.log("üì® R√©ponse re√ßue, status:",u.status),!u.ok){const C=await u.text();console.error("‚ùå Erreur HTTP:",u.status,C);let E=`Erreur ${u.status}`;if(u.status===429)E="Quota IA d√©pass√© - Essayez plus tard";else try{E=JSON.parse(C).error||C}catch{E=C||`Erreur ${u.status}`}throw new Error(E)}const b=await u.json();if(console.log("üìã Donn√©es re√ßues:",b),b.success&&b.data?.enhancedText)console.log("‚úÖ Suggestion re√ßue avec succ√®s"),b.data.enhancedText.length>j.trim().length*.8?(y(b.data.enhancedText),n(!0),k({title:"Texte am√©lior√© !",description:"L'IA a optimis√© votre texte"})):(console.warn("‚ö†Ô∏è Suggestion trop courte, conservation du texte original"),i("La suggestion g√©n√©r√©e semble incompl√®te"),k({title:"Suggestion Incompl√®te",description:"L'IA n'a pas pu am√©liorer le texte de mani√®re significative.",variant:"destructive"}));else{console.error("‚ùå R√©ponse invalide:",b);const C=b.error||"R√©ponse invalide du serveur";throw new Error(C)}}catch(m){console.error("Erreur suggestion texte:",m);const u=m instanceof Error?m.message:"Erreur inconnue";i(u),k({title:"Erreur",description:`IA temporairement indisponible: ${u}`,variant:"destructive"})}finally{o(!1)}},r=()=>{switch(f){case"title":return"Am√©liorer le titre";case"description":return"Enrichir la description";case"requirements":return"Pr√©ciser les exigences";default:return"Suggestion IA"}};return e.jsxs(I,{onClick:l,disabled:w||!j.trim(),variant:"outline",size:"sm",className:`bg-purple-50 hover:bg-purple-100 border-purple-200 text-purple-700 ${S}`,children:[w?e.jsx(se,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(ue,{className:"w-4 h-4 mr-2"}),r()]})}function Ae({onComplete:j,onSubmit:f,isLoading:N,error:y}){const[,S]=xe(),{user:w}=ee(),{createMission:o,createTeamProject:k,isLoading:q}=je(),{toast:i}=_(),[d,n]=c.useState(0);c.useRef(null);const l=N!==void 0?N:q,[r,m]=c.useState(null),[u,b]=c.useState(!1),[C,E]=c.useState(null),[g,D]=c.useState(null),[T,R]=c.useState(""),[s,h]=c.useState({title:"",description:"",budget:"",timeline:"",requirements:"",location:{address:"",lat:null,lng:null,radius:10},needsLocation:!1}),[z,B]=c.useState(null),[U,O]=c.useState(!1),[L,M]=c.useState({}),K=async()=>{if(!s.title?.trim()||s.title.trim().length<3)return i({title:"Titre requis",description:"Le titre doit contenir au moins 3 caract√®res",variant:"destructive"}),{ok:!1,error:"Titre invalide"};if(!s.description?.trim()||s.description.trim().length<10)return i({title:"Description requise",description:"La description doit contenir au moins 10 caract√®res",variant:"destructive"}),{ok:!1,error:"Description invalide"};const x={title:s.title.trim(),description:s.description.trim(),category:s.category||"developpement",budget:parseInt(s.budget)||1e3,location:s.location.address||"Remote",isTeamMode:s.isTeamMode,requirements:s.requirements?.trim()};console.log("üöÄ Mission cr√©ation simplifi√©e:",x);const v=u?await k(x):await o(x);return v.ok&&v.id?(console.log("‚úÖ Mission cr√©√©e avec ID:",v.id),f?f(v):S("/missions")):console.error("Erreur lors de la cr√©ation de la mission:",v.error),v},re=async()=>{try{await K()}catch(x){console.error("Erreur inattendue lors de la soumission:",x),i({title:"Erreur",description:"Une erreur inattendue est survenue. Veuillez r√©essayer.",variant:"destructive"})}},ae=x=>LucideIcons[x.split("-").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join("")]||LucideIcons.Briefcase;c.useEffect(()=>{const x=setTimeout(()=>{},100);return()=>clearTimeout(x)},[d]);const ie=()=>e.jsxs("div",{className:"text-center space-y-3 max-w-3xl mx-auto",children:[e.jsx("div",{className:"space-y-3 animate-fade-in",children:e.jsxs("div",{className:"bg-white rounded-lg p-3 md:p-4 shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsxs("p",{className:"text-base md:text-lg text-gray-900 font-semibold mb-1",children:[e.jsx("span",{className:"text-blue-600",children:"Swideal"})," place le client au c≈ìur du mod√®le."]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Notre approche repose sur deux leviers puissants :"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 border-l-3 border-blue-500",children:[e.jsxs("h3",{className:"text-sm md:text-base font-semibold text-gray-900 mb-1 flex items-center justify-center",children:[e.jsx("span",{className:"inline-block w-5 h-5 bg-blue-500 text-white text-xs rounded-full flex items-center justify-center mr-2 font-bold",children:"1"}),"L'ench√®re invers√©e"]}),e.jsx("p",{className:"text-xs md:text-sm text-gray-700 leading-snug",children:"Le client d√©crit son besoin et les prestataires rivalisent pour offrir le meilleur deal."})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 border-l-3 border-green-500 text-center",children:[e.jsxs("h3",{className:"text-sm md:text-base font-semibold text-gray-900 mb-1 flex items-center justify-center",children:[e.jsx("span",{className:"inline-block w-5 h-5 bg-green-500 text-white text-xs rounded-full flex items-center justify-center mr-2 font-bold",children:"2"}),"La mise en relation strat√©gique"]}),e.jsxs("p",{className:"text-xs md:text-sm text-gray-700 leading-snug",children:["Connectez-vous directement √† la bonne personne gr√¢ce aux r√©seaux et connaissances partag√©es.",e.jsx("br",{}),"Toi aussi, valorise ton r√©seau"]})]})]}),e.jsx("div",{className:"mt-3 p-2 bg-blue-50 rounded-lg border border-blue-100",children:e.jsxs("p",{className:"text-xs md:text-sm text-gray-800 leading-snug text-center",children:[e.jsx("strong",{children:"Swideal"})," transforme la mise en relation en v√©ritable ",e.jsx("strong",{children:"art du deal"}),"."]})})]})}),e.jsx(I,{onClick:()=>n(0),className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-medium shadow-sm hover:shadow-md transition-all duration-200",size:"lg",children:"üöÄ D√©marrer"})]}),ne=()=>e.jsxs("div",{className:"text-center space-y-3",children:[e.jsxs("div",{className:"space-y-2 animate-fade-in",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 animate-bounce-in progressive-flow-title",style:{fontFamily:"Inter, system-ui, -apple-system, sans-serif"},children:"Cr√©ez votre mission en quelques clics"}),e.jsxs("p",{className:"text-gray-600 animate-slide-up progressive-flow-description",style:{fontFamily:"Inter, system-ui, -apple-system, sans-serif"},children:["Publiez votre projet et recevez des propositions de ",e.jsx("span",{className:"text-green-600 font-semibold",children:"prestataires"})," qualifi√©s"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl mx-auto progressive-flow-grid",children:[e.jsx(P,{className:`cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-1 group card-shine progressive-flow-card ${C==="client"?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-blue-50/30"} ${r==="client"?"scale-95 ring-4 ring-blue-400 bg-blue-100 animate-pulse-glow":""}`,onClick:()=>{E("client"),m("client"),setTimeout(()=>{n(1),m(null)},400)},children:e.jsxs(A,{className:"p-6 text-center",children:[e.jsx(pe,{className:`w-12 h-12 mx-auto mb-4 text-blue-600 transition-all duration-300 group-hover:scale-110 group-hover:rotate-3 ${r==="client"?"scale-125 animate-pulse text-blue-800":""}`}),e.jsxs("h3",{className:"text-xl font-semibold mb-2",style:{fontFamily:"Inter, system-ui, -apple-system, sans-serif"},children:["üë®‚Äçüíº ",e.jsx("span",{className:"text-gray-900",children:"Je suis"})," ",e.jsx("span",{className:"text-blue-600",children:"Client"})]}),e.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-3",style:{fontFamily:"Inter, system-ui, -apple-system, sans-serif"},children:["Trouvez le ",e.jsx("span",{className:"text-green-600 font-semibold",children:"prestataire"})," id√©al pour vos projets"]}),e.jsxs("p",{className:"text-gray-600 text-sm leading-relaxed",children:["AppelsPro r√©volutionne la mise en relation entre ",e.jsx("span",{className:"text-blue-600 font-medium",children:"clients"})," et ",e.jsx("span",{className:"text-green-600 font-medium",children:"prestataires"}),". Publiez votre projet et recevez des devis personnalis√©s en quelques heures."]})]})}),e.jsx(P,{className:`cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-1 group card-shine progressive-flow-card ${C==="prestataire"?"ring-2 ring-green-500 bg-green-50":"hover:bg-green-50/30"} ${r==="prestataire"?"scale-95 ring-4 ring-green-400 bg-green-100 animate-pulse-glow":""}`,onClick:()=>{E("prestataire"),m("prestataire"),setTimeout(()=>{n(1),m(null)},400)},children:e.jsxs(A,{className:"p-6 text-center",children:[e.jsx(G,{className:`w-12 h-12 mx-auto mb-4 text-green-600 transition-all duration-300 group-hover:scale-110 group-hover:rotate-3 ${r==="prestataire"?"scale-125 animate-pulse text-green-800":""}`}),e.jsxs("h3",{className:"text-xl font-semibold mb-2",style:{fontFamily:"Inter, system-ui, -apple-system, sans-serif"},children:["üõ†Ô∏è ",e.jsx("span",{className:"text-gray-900",children:"Je suis"})," ",e.jsx("span",{className:"text-green-600",children:"Prestataire"})]}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",style:{fontFamily:"Inter, system-ui, -apple-system, sans-serif"},children:"D√©veloppez votre activit√© en tant que pro"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Acc√©dez √† de nouvelles opportunit√©s business sans prospection. R√©pondez aux appels d'offres qui correspondent √† vos comp√©tences."})]})})]})]}),oe=()=>e.jsxs("div",{className:"text-center space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 progressive-flow-title",children:"Comment souhaitez-vous proc√©der ?"}),e.jsx("p",{className:"text-gray-600 progressive-flow-description",children:"S√©lectionnez la m√©thode qui vous convient le mieux"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl mx-auto progressive-flow-grid",children:[e.jsx(P,{className:`cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-1 group card-shine progressive-flow-card ${g==="mise-en-relation"?"ring-2 ring-purple-500 bg-purple-50":"hover:bg-purple-50/30"} ${r==="mise-en-relation"?"scale-95 ring-4 ring-purple-400 bg-purple-100 animate-pulse-glow":""}`,onClick:()=>{D("mise-en-relation"),m("mise-en-relation"),setTimeout(()=>{n(2),m(null)},400)},children:e.jsxs(A,{className:"p-6 text-center",children:[e.jsx(G,{className:`w-12 h-12 mx-auto mb-4 text-purple-600 transition-all duration-300 group-hover:scale-110 group-hover:rotate-12 ${r==="mise-en-relation"?"scale-125 animate-pulse text-purple-800":""}`}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Mise en relation"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Contact direct avec des prestataires s√©lectionn√©s"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{variant:"secondary",children:"Contact imm√©diat"}),e.jsx($,{variant:"secondary",children:"Profils v√©rifi√©s"})]})]})}),e.jsx(P,{className:`cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-105 hover:-translate-y-1 group card-shine progressive-flow-card ${g==="appel-offres"?"ring-2 ring-orange-500 bg-orange-50":"hover:bg-orange-50/30"} ${r==="appel-offres"?"scale-95 ring-4 ring-orange-400 bg-orange-100 animate-pulse-glow":""}`,onClick:()=>{D("appel-offres"),m("appel-offres"),setTimeout(()=>{n(2),m(null)},400)},children:e.jsxs(A,{className:"p-6 text-center",children:[e.jsx(Q,{className:`w-12 h-12 mx-auto mb-4 text-orange-600 transition-all duration-300 group-hover:scale-110 group-hover:rotate-12 ${r==="appel-offres"?"scale-125 animate-pulse text-orange-800":""}`}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Appel d'offres"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Recevez plusieurs propositions et choisissez la meilleure"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{variant:"secondary",children:"Ench√®re invers√©e"}),e.jsx($,{variant:"secondary",children:"+50 prestataires"})]})]})})]}),e.jsxs(I,{variant:"outline",onClick:()=>n(0),className:"mt-4",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Retour"]})]}),le=()=>{const x=g==="mise-en-relation"?X:Y,v=g==="mise-en-relation"?"expert":"projet";return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-center space-y-2 animate-fade-in",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 animate-bounce-in progressive-flow-title",children:"Dans quel domaine ?"}),e.jsxs("p",{className:"text-gray-600 animate-slide-up progressive-flow-description",children:["S√©lectionnez la cat√©gorie qui correspond √† votre ",v]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 category-grid",children:x.map(p=>e.jsx(P,{className:`cursor-pointer transition-all duration-300 hover:shadow-lg hover:scale-105 hover:-translate-y-1 group card-shine ${T===p.id?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-blue-50/20"} ${r===p.id?"scale-95 ring-4 ring-blue-400 bg-blue-100 animate-pulse-glow":""}`,onClick:()=>{R(p.id),m(p.id),setTimeout(()=>{n(3),m(null)},400)},children:e.jsxs(A,{className:"p-4 text-center category-card",children:[e.jsx("div",{className:"mb-3",children:(()=>{const t=ae(p.icon);return e.jsx(t,{className:`w-8 h-8 mx-auto ${p.color} transition-all duration-300 group-hover:scale-110 group-hover:rotate-6 ${r===p.id?"scale-125 animate-pulse":""}`})})()}),e.jsx("h3",{className:"font-medium text-sm leading-tight",children:p.name}),p.description&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:p.description})]})},p.id))}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(I,{variant:"outline",onClick:()=>n(1),children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Retour"]})})]})},ce=()=>{const v=(g==="mise-en-relation"?X:Y).find(t=>t.id===T),p=g==="mise-en-relation"?"demande de contact":"projet";return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-center space-y-2 animate-fade-in",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 animate-bounce-in progressive-flow-title",children:["D√©crivez votre ",p," ",v?.name]}),e.jsxs("p",{className:"text-gray-600 animate-slide-up progressive-flow-description",children:["Plus votre description est pr√©cise, ",g==="mise-en-relation"?"plus les experts seront adapt√©s":"meilleures seront les propositions"]})]}),e.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto progressive-flow-form",children:[e.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx(be,{id:"team-mode",checked:u,onCheckedChange:b}),e.jsx(ge,{htmlFor:"team-mode",className:"text-blue-900 font-medium",children:"ü§ù Mode √©quipe - Diviser le projet en plusieurs sp√©cialit√©s"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Titre du ",p," *"]}),e.jsx(Z,{currentText:s.title,fieldType:"title",category:T,onSuggestion:t=>{h(a=>({...a,title:t})),M(a=>({...a,title:!0}))},className:"text-xs"})]}),e.jsx(J,{placeholder:g==="mise-en-relation"?`Ex: Recherche ${v?.name.toLowerCase()} pour conseil juridique`:"Ex: Cr√©ation d'un site web e-commerce",value:s.title,onChange:t=>h(a=>({...a,title:t.target.value}))}),L.title&&e.jsx("div",{className:"mt-2",children:e.jsx(V,{phase:"brief_enhance",prompt:{field:"title",text:s.title},onFeedback:()=>M(t=>({...t,title:!1}))})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description d√©taill√©e *"}),e.jsx(Z,{currentText:s.description,fieldType:"description",category:T,onSuggestion:t=>{h(a=>({...a,description:t})),M(a=>({...a,description:!0}))},className:"text-xs"})]}),e.jsx(W,{placeholder:g==="mise-en-relation"?"D√©crivez le type de consultation recherch√©e, vos besoins sp√©cifiques, le contexte...":"D√©crivez pr√©cis√©ment votre besoin, vos objectifs, contraintes techniques...",rows:4,value:s.description,onChange:t=>h(a=>({...a,description:t.target.value}))}),L.description&&e.jsx("div",{className:"mt-2",children:e.jsx(V,{phase:"brief_enhance",prompt:{field:"description",text:s.description},onFeedback:()=>M(t=>({...t,description:!1}))})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(te,{className:"w-4 h-4 inline mr-1"}),g==="mise-en-relation"?"Budget consultation (optionnel)":"Budget indicatif (optionnel)"]}),e.jsx(J,{placeholder:g==="mise-en-relation"?"Ex: 200 - 500 ‚Ç¨/heure":"Ex: 5 000 - 10 000 ‚Ç¨",value:s.budget,onChange:t=>h(a=>({...a,budget:t.target.value}))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(fe,{className:"w-4 h-4 inline mr-1"}),"D√©lai souhait√© (optionnel)"]}),e.jsx(J,{placeholder:"Ex: 2-3 mois",value:s.timeline,onChange:t=>h(a=>({...a,timeline:t.target.value}))})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Exigences sp√©cifiques (optionnel)"}),e.jsx(Z,{currentText:s.requirements,fieldType:"requirements",category:T,onSuggestion:t=>{h(a=>({...a,requirements:t})),M(a=>({...a,requirements:!0}))},className:"text-xs"})]}),e.jsx(W,{placeholder:"Technologies requises, contraintes particuli√®res, livrables attendus...",rows:3,value:s.requirements,onChange:t=>h(a=>({...a,requirements:t.target.value}))}),L.requirements&&e.jsx("div",{className:"mt-2",children:e.jsx(V,{phase:"brief_enhance",prompt:{field:"requirements",text:s.requirements},onFeedback:()=>M(t=>({...t,requirements:!1}))})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx(Ne,{title:s.title,description:s.description,category:T,onPriceSuggestion:t=>{const a=`${t.minPrice} - ${t.maxPrice} ‚Ç¨`;h(F=>({...F,budget:a})),B({type:"pricing",data:t}),O(!0)}}),U&&z&&e.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"ü§ñ Comment trouvez-vous cette suggestion IA ?"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Votre retour nous aide √† am√©liorer nos suggestions"})]}),e.jsx(V,{phase:"brief_enhance",prompt:{title:s.title,description:s.description,category:T,suggestion:z},onFeedback:(t,a,F)=>{console.log("Feedback IA re√ßu:",{accepted:t,rating:a,edits:F}),O(!1),i({title:"Merci pour votre retour !",description:"Vos commentaires nous aident √† am√©liorer l'IA"})}})]})]}),e.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(ve,{className:"w-5 h-5 mr-2 text-blue-600"}),"Localisation"]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"remote",name:"location-type",checked:!s.needsLocation,onChange:()=>h(t=>({...t,needsLocation:!1,location:{...t.location,address:""}})),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"remote",className:"text-sm font-medium text-gray-700",children:"√Ä distance"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"onsite",name:"location-type",checked:s.needsLocation,onChange:()=>h(t=>({...t,needsLocation:!0})),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"onsite",className:"text-sm font-medium text-gray-700",children:"Intervention sur site"})]})]}),s.needsLocation&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Code postal (5 chiffres) *"}),e.jsx(J,{type:"text",placeholder:"Ex: 75001",pattern:"[0-9]{5}",maxLength:5,value:s.location.address,onChange:t=>{const a=t.target.value.replace(/[^0-9]/g,"").slice(0,5);h(F=>({...F,location:{...F.location,address:a}}))},className:"w-40"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Saisissez le code postal de l'intervention"})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(I,{variant:"outline",onClick:()=>n(2),children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Retour"]}),e.jsx(I,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 transform transition-all duration-200 hover:scale-105 hover:shadow-xl disabled:hover:scale-100 disabled:hover:shadow-none",disabled:!s.title.trim()||!s.description.trim()||!s.category||s.needsLocation&&(!s.location.address||s.location.address.length!==5),onClick:re,loading:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cr√©ation..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),u?"Cr√©er le projet √©quipe":"Publier la mission"]})})]})]})]})};return e.jsx("div",{className:"w-full max-w-6xl mx-auto progressive-flow-container",children:e.jsxs("div",{className:"bg-transparent pb-24",children:[e.jsxs("div",{className:"px-4 relative progressive-flow-step",children:[d===-1&&ie(),d===0&&ne(),d===1&&oe(),d===2&&le(),d===3&&ce()]}),d>=0&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50/5 via-indigo-50/5 to-purple-50/5 p-3 rounded-xl mt-6 mb-6 border border-blue-200/20 backdrop-blur-sm progressive-flow-progress",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["√âtape ",d+1," sur 3"]}),e.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[Math.round((d+1)/3*100),"%"]})]}),e.jsx("div",{className:"w-full h-1 bg-gradient-to-r from-gray-100 to-gray-200 rounded-full overflow-hidden shadow-inner",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 rounded-full transition-all duration-700 ease-out shadow-sm relative",style:{width:`${(d+1)/3*100}%`},children:e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent rounded-full"})})}),e.jsx("div",{className:"flex justify-between mt-2",children:[1,2,3].map(x=>e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${x<=d+1?"bg-gradient-to-r from-blue-500 to-purple-500 shadow-sm":"bg-gray-300"}`}),e.jsx("span",{className:`text-xs mt-1 font-medium transition-colors duration-300 ${x<=d+1?"text-blue-600":"text-gray-400"}`,children:x})]},x))})]})]})})}export{Ae as P,je as u};
