import{F as V,r as Z,j as ae,S as Ut}from"./ui-BW6CElO3.js";import{N as De,L as Pt}from"./index-DkG96BI9.js";import{o as Se,s as H,n as he,l as Bt,e as qt}from"./types-B-FkpF08.js";var ve=e=>e.type==="checkbox",oe=e=>e instanceof Date,P=e=>e==null;const yt=e=>typeof e=="object";var R=e=>!P(e)&&!Array.isArray(e)&&yt(e)&&!oe(e),mt=e=>R(e)&&e.target?ve(e.target)?e.target.checked:e.target.value:e,jt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,gt=(e,r)=>e.has(jt(r)),Wt=e=>{const r=e.constructor&&e.constructor.prototype;return R(r)&&r.hasOwnProperty("isPrototypeOf")},Ue=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function O(e){let r;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(Ue&&(e instanceof Blob||i))&&(t||R(e)))if(r=t?[]:Object.create(Object.getPrototypeOf(e)),!t&&!Wt(e))r=e;else for(const n in e)e.hasOwnProperty(n)&&(r[n]=O(e[n]));else return e;return r}var Ee=e=>/^\w*$/.test(e),L=e=>e===void 0,Pe=e=>Array.isArray(e)?e.filter(Boolean):[],Be=e=>Pe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,r,t)=>{if(!r||!R(e))return t;const i=(Ee(r)?[r]:Be(r)).reduce((n,o)=>P(n)?n:n[o],e);return L(i)||i===e?L(e[r])?t:e[r]:i},W=e=>typeof e=="boolean",D=(e,r,t)=>{let i=-1;const n=Ee(r)?[r]:Be(r),o=n.length,u=o-1;for(;++i<o;){const c=n[i];let _=t;if(i!==u){const A=e[c];_=R(A)||Array.isArray(A)?A:isNaN(+n[i+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=_,e=e[c]}};const _e={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},G={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ee={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},qe=V.createContext(null);qe.displayName="HookFormContext";const ke=()=>V.useContext(qe),Ht=e=>{const{children:r,...t}=e;return V.createElement(qe.Provider,{value:t},r)};var ht=(e,r,t,i=!0)=>{const n={defaultValues:r._defaultValues};for(const o in e)Object.defineProperty(n,o,{get:()=>{const u=o;return r._proxyFormState[u]!==G.all&&(r._proxyFormState[u]=!i||G.all),t&&(t[u]=!0),e[u]}});return n};const je=typeof window<"u"?V.useLayoutEffect:V.useEffect;function $t(e){const r=ke(),{control:t=r.control,disabled:i,name:n,exact:o}=e||{},[u,c]=V.useState(t._formState),_=V.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return je(()=>t._subscribe({name:n,formState:_.current,exact:o,callback:A=>{!i&&c({...t._formState,...A})}}),[n,i,o]),V.useEffect(()=>{_.current.isValid&&t._setValid(!0)},[t]),V.useMemo(()=>ht(u,t,_.current,!1),[u,t])}var X=e=>typeof e=="string",vt=(e,r,t,i,n)=>X(e)?(i&&r.watch.add(e),y(t,e,n)):Array.isArray(e)?e.map(o=>(i&&r.watch.add(o),y(t,o))):(i&&(r.watchAll=!0),t),Ie=e=>P(e)||!yt(e);function te(e,r,t=new WeakSet){if(Ie(e)||Ie(r))return e===r;if(oe(e)&&oe(r))return e.getTime()===r.getTime();const i=Object.keys(e),n=Object.keys(r);if(i.length!==n.length)return!1;if(t.has(e)||t.has(r))return!0;t.add(e),t.add(r);for(const o of i){const u=e[o];if(!n.includes(o))return!1;if(o!=="ref"){const c=r[o];if(oe(u)&&oe(c)||R(u)&&R(c)||Array.isArray(u)&&Array.isArray(c)?!te(u,c,t):u!==c)return!1}}return!0}function zt(e){const r=ke(),{control:t=r.control,name:i,defaultValue:n,disabled:o,exact:u,compute:c}=e||{},_=V.useRef(n),A=V.useRef(c),v=V.useRef(void 0);A.current=c;const x=V.useMemo(()=>t._getWatch(i,_.current),[t,i]),[b,z]=V.useState(A.current?A.current(x):x);return je(()=>t._subscribe({name:i,formState:{values:!0},exact:u,callback:j=>{if(!o){const k=vt(i,t._names,j.values||t._formValues,!1,_.current);if(A.current){const N=A.current(k);te(N,v.current)||(z(N),v.current=N)}else z(k)}}}),[t,o,i,u]),V.useEffect(()=>t._removeUnmounted()),b}function Kt(e){const r=ke(),{name:t,disabled:i,control:n=r.control,shouldUnregister:o,defaultValue:u}=e,c=gt(n._names.array,t),_=V.useMemo(()=>y(n._formValues,t,y(n._defaultValues,t,u)),[n,t,u]),A=zt({control:n,name:t,defaultValue:_,exact:!0}),v=$t({control:n,name:t,exact:!0}),x=V.useRef(e),b=V.useRef(n.register(t,{...e.rules,value:A,...W(e.disabled)?{disabled:e.disabled}:{}}));x.current=e;const z=V.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(v.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(v.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(v.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!y(v.validatingFields,t)},error:{enumerable:!0,get:()=>y(v.errors,t)}}),[v,t]),j=V.useCallback(h=>b.current.onChange({target:{value:mt(h),name:t},type:_e.CHANGE}),[t]),k=V.useCallback(()=>b.current.onBlur({target:{value:y(n._formValues,t),name:t},type:_e.BLUR}),[t,n._formValues]),N=V.useCallback(h=>{const I=y(n._fields,t);I&&h&&(I._f.ref={focus:()=>h.focus&&h.focus(),select:()=>h.select&&h.select(),setCustomValidity:T=>h.setCustomValidity(T),reportValidity:()=>h.reportValidity()})},[n._fields,t]),le=V.useMemo(()=>({name:t,value:A,...W(i)||v.disabled?{disabled:v.disabled||i}:{},onChange:j,onBlur:k,ref:N}),[t,i,v.disabled,j,k,N,A]);return V.useEffect(()=>{const h=n._options.shouldUnregister||o;n.register(t,{...x.current.rules,...W(x.current.disabled)?{disabled:x.current.disabled}:{}});const I=(T,C)=>{const re=y(n._fields,T);re&&re._f&&(re._f.mount=C)};if(I(t,!0),h){const T=O(y(n._options.defaultValues,t));D(n._defaultValues,t,T),L(y(n._formValues,t))&&D(n._formValues,t,T)}return!c&&n.register(t),()=>{(c?h&&!n._state.action:h)?n.unregister(t):I(t,!1)}},[t,n,c,o]),V.useEffect(()=>{n._setDisabledField({disabled:i,name:t})},[i,t,n]),V.useMemo(()=>({field:le,formState:v,fieldState:z}),[le,v,z])}const Gt=e=>e.render(Kt(e));var bt=(e,r,t,i,n)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:n||!0}}:{},me=e=>Array.isArray(e)?e:[e],tt=()=>{let e=[];return{get observers(){return e},next:n=>{for(const o of e)o.next&&o.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(o=>o!==n)}}),unsubscribe:()=>{e=[]}}},q=e=>R(e)&&!Object.keys(e).length,We=e=>e.type==="file",Y=e=>typeof e=="function",xe=e=>{if(!Ue)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Vt=e=>e.type==="select-multiple",He=e=>e.type==="radio",Yt=e=>He(e)||ve(e),Ne=e=>xe(e)&&e.isConnected;function Jt(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=L(e)?i++:e[r[i++]];return e}function Qt(e){for(const r in e)if(e.hasOwnProperty(r)&&!L(e[r]))return!1;return!0}function M(e,r){const t=Array.isArray(r)?r:Ee(r)?[r]:Be(r),i=t.length===1?e:Jt(e,t),n=t.length-1,o=t[n];return i&&delete i[o],n!==0&&(R(i)&&q(i)||Array.isArray(i)&&Qt(i))&&M(e,t.slice(0,-1)),e}var Ft=e=>{for(const r in e)if(Y(e[r]))return!0;return!1};function Ae(e,r={}){const t=Array.isArray(e);if(R(e)||t)for(const i in e)Array.isArray(e[i])||R(e[i])&&!Ft(e[i])?(r[i]=Array.isArray(e[i])?[]:{},Ae(e[i],r[i])):P(e[i])||(r[i]=!0);return r}function _t(e,r,t){const i=Array.isArray(e);if(R(e)||i)for(const n in e)Array.isArray(e[n])||R(e[n])&&!Ft(e[n])?L(r)||Ie(t[n])?t[n]=Array.isArray(e[n])?Ae(e[n],[]):{...Ae(e[n])}:_t(e[n],P(r)?{}:r[n],t[n]):t[n]=!te(e[n],r[n]);return t}var fe=(e,r)=>_t(e,r,Ae(r));const rt={value:!1,isValid:!1},st={value:!0,isValid:!0};var xt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!L(e[0].attributes.value)?L(e[0].value)||e[0].value===""?st:{value:e[0].value,isValid:!0}:st:rt}return rt},At=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>L(e)?e:r?e===""?NaN:e&&+e:t&&X(e)?new Date(e):i?i(e):e;const it={isValid:!1,value:null};var wt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,it):it;function at(e){const r=e.ref;return We(r)?r.files:He(r)?wt(e.refs).value:Vt(r)?[...r.selectedOptions].map(({value:t})=>t):ve(r)?xt(e.refs).value:At(L(r.value)?e.ref.value:r.value,e)}var Xt=(e,r,t,i)=>{const n={};for(const o of e){const u=y(r,o);u&&D(n,o,u._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:i}},we=e=>e instanceof RegExp,ye=e=>L(e)?e:we(e)?e.source:R(e)?we(e.value)?e.value.source:e.value:e,nt=e=>({isOnSubmit:!e||e===G.onSubmit,isOnBlur:e===G.onBlur,isOnChange:e===G.onChange,isOnAll:e===G.all,isOnTouch:e===G.onTouched});const ot="AsyncFunction";var Zt=e=>!!e&&!!e.validate&&!!(Y(e.validate)&&e.validate.constructor.name===ot||R(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===ot)),er=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),lt=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ge=(e,r,t,i)=>{for(const n of t||Object.keys(e)){const o=y(e,n);if(o){const{_f:u,...c}=o;if(u){if(u.refs&&u.refs[0]&&r(u.refs[0],n)&&!i)return!0;if(u.ref&&r(u.ref,u.name)&&!i)return!0;if(ge(c,r))break}else if(R(c)&&ge(c,r))break}}};function ut(e,r,t){const i=y(e,t);if(i||Ee(t))return{error:i,name:t};const n=t.split(".");for(;n.length;){const o=n.join("."),u=y(r,o),c=y(e,o);if(u&&!Array.isArray(u)&&t!==o)return{name:t};if(c&&c.type)return{name:o,error:c};if(c&&c.root&&c.root.type)return{name:`${o}.root`,error:c.root};n.pop()}return{name:t}}var tr=(e,r,t,i)=>{t(e);const{name:n,...o}=e;return q(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(u=>r[u]===(!i||G.all))},rr=(e,r,t)=>!e||!r||e===r||me(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i))),sr=(e,r,t,i,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(r||e):(t?i.isOnBlur:n.isOnBlur)?!e:(t?i.isOnChange:n.isOnChange)?e:!0,ir=(e,r)=>!Pe(y(e,r)).length&&M(e,r),ar=(e,r,t)=>{const i=me(y(e,t));return D(i,"root",r[t]),D(e,t,i),e},Fe=e=>X(e);function ct(e,r,t="validate"){if(Fe(e)||Array.isArray(e)&&e.every(Fe)||W(e)&&!e)return{type:t,message:Fe(e)?e:"",ref:r}}var ce=e=>R(e)&&!we(e)?e:{value:e,message:""},dt=async(e,r,t,i,n,o)=>{const{ref:u,refs:c,required:_,maxLength:A,minLength:v,min:x,max:b,pattern:z,validate:j,name:k,valueAsNumber:N,mount:le}=e._f,h=y(t,k);if(!le||r.has(k))return{};const I=c?c[0]:u,T=F=>{n&&I.reportValidity&&(I.setCustomValidity(W(F)?"":F||""),I.reportValidity())},C={},re=He(u),se=ve(u),pe=re||se,K=(N||We(u))&&L(u.value)&&L(h)||xe(u)&&u.value===""||h===""||Array.isArray(h)&&!h.length,ne=bt.bind(null,k,i,C),J=(F,S,p,U=ee.maxLength,B=ee.minLength)=>{const Q=F?S:p;C[k]={type:F?U:B,message:Q,ref:u,...ne(F?U:B,Q)}};if(o?!Array.isArray(h)||!h.length:_&&(!pe&&(K||P(h))||W(h)&&!h||se&&!xt(c).isValid||re&&!wt(c).isValid)){const{value:F,message:S}=Fe(_)?{value:!!_,message:_}:ce(_);if(F&&(C[k]={type:ee.required,message:S,ref:I,...ne(ee.required,S)},!i))return T(S),C}if(!K&&(!P(x)||!P(b))){let F,S;const p=ce(b),U=ce(x);if(!P(h)&&!isNaN(h)){const B=u.valueAsNumber||h&&+h;P(p.value)||(F=B>p.value),P(U.value)||(S=B<U.value)}else{const B=u.valueAsDate||new Date(h),Q=be=>new Date(new Date().toDateString()+" "+be),de=u.type=="time",ue=u.type=="week";X(p.value)&&h&&(F=de?Q(h)>Q(p.value):ue?h>p.value:B>new Date(p.value)),X(U.value)&&h&&(S=de?Q(h)<Q(U.value):ue?h<U.value:B<new Date(U.value))}if((F||S)&&(J(!!F,p.message,U.message,ee.max,ee.min),!i))return T(C[k].message),C}if((A||v)&&!K&&(X(h)||o&&Array.isArray(h))){const F=ce(A),S=ce(v),p=!P(F.value)&&h.length>+F.value,U=!P(S.value)&&h.length<+S.value;if((p||U)&&(J(p,F.message,S.message),!i))return T(C[k].message),C}if(z&&!K&&X(h)){const{value:F,message:S}=ce(z);if(we(F)&&!h.match(F)&&(C[k]={type:ee.pattern,message:S,ref:u,...ne(ee.pattern,S)},!i))return T(S),C}if(j){if(Y(j)){const F=await j(h,t),S=ct(F,I);if(S&&(C[k]={...S,...ne(ee.validate,S.message)},!i))return T(S.message),C}else if(R(j)){let F={};for(const S in j){if(!q(F)&&!i)break;const p=ct(await j[S](h,t),I,S);p&&(F={...p,...ne(S,p.message)},T(p.message),i&&(C[k]=F))}if(!q(F)&&(C[k]={ref:I,...F},!i))return C}}return T(!0),C};const nr={mode:G.onSubmit,reValidateMode:G.onChange,shouldFocusError:!0};function or(e={}){let r={...nr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Y(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},n=R(r.defaultValues)||R(r.values)?O(r.defaultValues||r.values)||{}:{},o=r.shouldUnregister?{}:O(n),u={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},_,A=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...v};const b={array:tt(),state:tt()},z=r.criteriaMode===G.all,j=s=>a=>{clearTimeout(A),A=setTimeout(s,a)},k=async s=>{if(!r.disabled&&(v.isValid||x.isValid||s)){const a=r.resolver?q((await se()).errors):await K(i,!0);a!==t.isValid&&b.state.next({isValid:a})}},N=(s,a)=>{!r.disabled&&(v.isValidating||v.validatingFields||x.isValidating||x.validatingFields)&&((s||Array.from(c.mount)).forEach(l=>{l&&(a?D(t.validatingFields,l,a):M(t.validatingFields,l))}),b.state.next({validatingFields:t.validatingFields,isValidating:!q(t.validatingFields)}))},le=(s,a=[],l,m,f=!0,d=!0)=>{if(m&&l&&!r.disabled){if(u.action=!0,d&&Array.isArray(y(i,s))){const g=l(y(i,s),m.argA,m.argB);f&&D(i,s,g)}if(d&&Array.isArray(y(t.errors,s))){const g=l(y(t.errors,s),m.argA,m.argB);f&&D(t.errors,s,g),ir(t.errors,s)}if((v.touchedFields||x.touchedFields)&&d&&Array.isArray(y(t.touchedFields,s))){const g=l(y(t.touchedFields,s),m.argA,m.argB);f&&D(t.touchedFields,s,g)}(v.dirtyFields||x.dirtyFields)&&(t.dirtyFields=fe(n,o)),b.state.next({name:s,isDirty:J(s,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else D(o,s,a)},h=(s,a)=>{D(t.errors,s,a),b.state.next({errors:t.errors})},I=s=>{t.errors=s,b.state.next({errors:t.errors,isValid:!1})},T=(s,a,l,m)=>{const f=y(i,s);if(f){const d=y(o,s,L(l)?y(n,s):l);L(d)||m&&m.defaultChecked||a?D(o,s,a?d:at(f._f)):p(s,d),u.mount&&k()}},C=(s,a,l,m,f)=>{let d=!1,g=!1;const w={name:s};if(!r.disabled){if(!l||m){(v.isDirty||x.isDirty)&&(g=t.isDirty,t.isDirty=w.isDirty=J(),d=g!==w.isDirty);const E=te(y(n,s),a);g=!!y(t.dirtyFields,s),E?M(t.dirtyFields,s):D(t.dirtyFields,s,!0),w.dirtyFields=t.dirtyFields,d=d||(v.dirtyFields||x.dirtyFields)&&g!==!E}if(l){const E=y(t.touchedFields,s);E||(D(t.touchedFields,s,l),w.touchedFields=t.touchedFields,d=d||(v.touchedFields||x.touchedFields)&&E!==l)}d&&f&&b.state.next(w)}return d?w:{}},re=(s,a,l,m)=>{const f=y(t.errors,s),d=(v.isValid||x.isValid)&&W(a)&&t.isValid!==a;if(r.delayError&&l?(_=j(()=>h(s,l)),_(r.delayError)):(clearTimeout(A),_=null,l?D(t.errors,s,l):M(t.errors,s)),(l?!te(f,l):f)||!q(m)||d){const g={...m,...d&&W(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,...g},b.state.next(g)}},se=async s=>{N(s,!0);const a=await r.resolver(o,r.context,Xt(s||c.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return N(s),a},pe=async s=>{const{errors:a}=await se(s);if(s)for(const l of s){const m=y(a,l);m?D(t.errors,l,m):M(t.errors,l)}else t.errors=a;return a},K=async(s,a,l={valid:!0})=>{for(const m in s){const f=s[m];if(f){const{_f:d,...g}=f;if(d){const w=c.array.has(d.name),E=f._f&&Zt(f._f);E&&v.validatingFields&&N([m],!0);const $=await dt(f,c.disabled,o,z,r.shouldUseNativeValidation&&!a,w);if(E&&v.validatingFields&&N([m]),$[d.name]&&(l.valid=!1,a))break;!a&&(y($,d.name)?w?ar(t.errors,$,d.name):D(t.errors,d.name,$[d.name]):M(t.errors,d.name))}!q(g)&&await K(g,a,l)}}return l.valid},ne=()=>{for(const s of c.unMount){const a=y(i,s);a&&(a._f.refs?a._f.refs.every(l=>!Ne(l)):!Ne(a._f.ref))&&Le(s)}c.unMount=new Set},J=(s,a)=>!r.disabled&&(s&&a&&D(o,s,a),!te(be(),n)),F=(s,a,l)=>vt(s,c,{...u.mount?o:L(a)?n:X(s)?{[s]:a}:a},l,a),S=s=>Pe(y(u.mount?o:n,s,r.shouldUnregister?y(n,s,[]):[])),p=(s,a,l={})=>{const m=y(i,s);let f=a;if(m){const d=m._f;d&&(!d.disabled&&D(o,s,At(a,d)),f=xe(d.ref)&&P(a)?"":a,Vt(d.ref)?[...d.ref.options].forEach(g=>g.selected=f.includes(g.value)):d.refs?ve(d.ref)?d.refs.forEach(g=>{(!g.defaultChecked||!g.disabled)&&(Array.isArray(f)?g.checked=!!f.find(w=>w===g.value):g.checked=f===g.value||!!f)}):d.refs.forEach(g=>g.checked=g.value===f):We(d.ref)?d.ref.value="":(d.ref.value=f,d.ref.type||b.state.next({name:s,values:O(o)})))}(l.shouldDirty||l.shouldTouch)&&C(s,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ue(s)},U=(s,a,l)=>{for(const m in a){if(!a.hasOwnProperty(m))return;const f=a[m],d=s+"."+m,g=y(i,d);(c.array.has(s)||R(f)||g&&!g._f)&&!oe(f)?U(d,f,l):p(d,f,l)}},B=(s,a,l={})=>{const m=y(i,s),f=c.array.has(s),d=O(a);D(o,s,d),f?(b.array.next({name:s,values:O(o)}),(v.isDirty||v.dirtyFields||x.isDirty||x.dirtyFields)&&l.shouldDirty&&b.state.next({name:s,dirtyFields:fe(n,o),isDirty:J(s,d)})):m&&!m._f&&!P(d)?U(s,d,l):p(s,d,l),lt(s,c)&&b.state.next({...t,name:s}),b.state.next({name:u.mount?s:void 0,values:O(o)})},Q=async s=>{u.mount=!0;const a=s.target;let l=a.name,m=!0;const f=y(i,l),d=E=>{m=Number.isNaN(E)||oe(E)&&isNaN(E.getTime())||te(E,y(o,l,E))},g=nt(r.mode),w=nt(r.reValidateMode);if(f){let E,$;const Ve=a.type?at(f._f):mt(s),ie=s.type===_e.BLUR||s.type===_e.FOCUS_OUT,Tt=!er(f._f)&&!r.resolver&&!y(t.errors,l)&&!f._f.deps||sr(ie,y(t.touchedFields,l),t.isSubmitted,w,g),Oe=lt(l,c,ie);D(o,l,Ve),ie?(!a||!a.readOnly)&&(f._f.onBlur&&f._f.onBlur(s),_&&_(0)):f._f.onChange&&f._f.onChange(s);const Te=C(l,Ve,ie),Nt=!q(Te)||Oe;if(!ie&&b.state.next({name:l,type:s.type,values:O(o)}),Tt)return(v.isValid||x.isValid)&&(r.mode==="onBlur"?ie&&k():ie||k()),Nt&&b.state.next({name:l,...Oe?{}:Te});if(!ie&&Oe&&b.state.next({...t}),r.resolver){const{errors:Ze}=await se([l]);if(d(Ve),m){const It=ut(t.errors,i,l),et=ut(Ze,i,It.name||l);E=et.error,l=et.name,$=q(Ze)}}else N([l],!0),E=(await dt(f,c.disabled,o,z,r.shouldUseNativeValidation))[l],N([l]),d(Ve),m&&(E?$=!1:(v.isValid||x.isValid)&&($=await K(i,!0)));m&&(f._f.deps&&ue(f._f.deps),re(l,$,E,Te))}},de=(s,a)=>{if(y(t.errors,a)&&s.focus)return s.focus(),1},ue=async(s,a={})=>{let l,m;const f=me(s);if(r.resolver){const d=await pe(L(s)?s:f);l=q(d),m=s?!f.some(g=>y(d,g)):l}else s?(m=(await Promise.all(f.map(async d=>{const g=y(i,d);return await K(g&&g._f?{[d]:g}:g)}))).every(Boolean),!(!m&&!t.isValid)&&k()):m=l=await K(i);return b.state.next({...!X(s)||(v.isValid||x.isValid)&&l!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:l}:{},errors:t.errors}),a.shouldFocus&&!m&&ge(i,de,s?f:c.mount),m},be=s=>{const a={...u.mount?o:n};return L(s)?a:X(s)?y(a,s):s.map(l=>y(a,l))},$e=(s,a)=>({invalid:!!y((a||t).errors,s),isDirty:!!y((a||t).dirtyFields,s),error:y((a||t).errors,s),isValidating:!!y(t.validatingFields,s),isTouched:!!y((a||t).touchedFields,s)}),kt=s=>{s&&me(s).forEach(a=>M(t.errors,a)),b.state.next({errors:s?t.errors:{}})},ze=(s,a,l)=>{const m=(y(i,s,{_f:{}})._f||{}).ref,f=y(t.errors,s)||{},{ref:d,message:g,type:w,...E}=f;D(t.errors,s,{...E,...a,ref:m}),b.state.next({name:s,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&m&&m.focus&&m.focus()},Ct=(s,a)=>Y(s)?b.state.subscribe({next:l=>"values"in l&&s(F(void 0,a),l)}):F(s,a,!0),Ke=s=>b.state.subscribe({next:a=>{rr(s.name,a.name,s.exact)&&tr(a,s.formState||v,Ot,s.reRenderRoot)&&s.callback({values:{...o},...t,...a,defaultValues:n})}}).unsubscribe,pt=s=>(u.mount=!0,x={...x,...s.formState},Ke({...s,formState:x})),Le=(s,a={})=>{for(const l of s?me(s):c.mount)c.mount.delete(l),c.array.delete(l),a.keepValue||(M(i,l),M(o,l)),!a.keepError&&M(t.errors,l),!a.keepDirty&&M(t.dirtyFields,l),!a.keepTouched&&M(t.touchedFields,l),!a.keepIsValidating&&M(t.validatingFields,l),!r.shouldUnregister&&!a.keepDefaultValue&&M(n,l);b.state.next({values:O(o)}),b.state.next({...t,...a.keepDirty?{isDirty:J()}:{}}),!a.keepIsValid&&k()},Ge=({disabled:s,name:a})=>{(W(s)&&u.mount||s||c.disabled.has(a))&&(s?c.disabled.add(a):c.disabled.delete(a))},Re=(s,a={})=>{let l=y(i,s);const m=W(a.disabled)||W(r.disabled);return D(i,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...a}}),c.mount.add(s),l?Ge({disabled:W(a.disabled)?a.disabled:r.disabled,name:s}):T(s,!0,a.value),{...m?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:ye(a.min),max:ye(a.max),minLength:ye(a.minLength),maxLength:ye(a.maxLength),pattern:ye(a.pattern)}:{},name:s,onChange:Q,onBlur:Q,ref:f=>{if(f){Re(s,a),l=y(i,s);const d=L(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,g=Yt(d),w=l._f.refs||[];if(g?w.find(E=>E===d):d===l._f.ref)return;D(i,s,{_f:{...l._f,...g?{refs:[...w.filter(Ne),d,...Array.isArray(y(n,s))?[{}]:[]],ref:{type:d.type,name:s}}:{ref:d}}}),T(s,!1,void 0,d)}else l=y(i,s,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(gt(c.array,s)&&u.action)&&c.unMount.add(s)}}},Me=()=>r.shouldFocusError&&ge(i,de,c.mount),Lt=s=>{W(s)&&(b.state.next({disabled:s}),ge(i,(a,l)=>{const m=y(i,l);m&&(a.disabled=m._f.disabled||s,Array.isArray(m._f.refs)&&m._f.refs.forEach(f=>{f.disabled=m._f.disabled||s}))},0,!1))},Ye=(s,a)=>async l=>{let m;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=O(o);if(b.state.next({isSubmitting:!0}),r.resolver){const{errors:d,values:g}=await se();t.errors=d,f=O(g)}else await K(i);if(c.disabled.size)for(const d of c.disabled)M(f,d);if(M(t.errors,"root"),q(t.errors)){b.state.next({errors:{}});try{await s(f,l)}catch(d){m=d}}else a&&await a({...t.errors},l),Me(),setTimeout(Me);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:q(t.errors)&&!m,submitCount:t.submitCount+1,errors:t.errors}),m)throw m},Rt=(s,a={})=>{y(i,s)&&(L(a.defaultValue)?B(s,O(y(n,s))):(B(s,a.defaultValue),D(n,s,O(a.defaultValue))),a.keepTouched||M(t.touchedFields,s),a.keepDirty||(M(t.dirtyFields,s),t.isDirty=a.defaultValue?J(s,O(y(n,s))):J()),a.keepError||(M(t.errors,s),v.isValid&&k()),b.state.next({...t}))},Je=(s,a={})=>{const l=s?O(s):n,m=O(l),f=q(s),d=f?n:m;if(a.keepDefaultValues||(n=l),!a.keepValues){if(a.keepDirtyValues){const g=new Set([...c.mount,...Object.keys(fe(n,o))]);for(const w of Array.from(g))y(t.dirtyFields,w)?D(d,w,y(o,w)):B(w,y(d,w))}else{if(Ue&&L(s))for(const g of c.mount){const w=y(i,g);if(w&&w._f){const E=Array.isArray(w._f.refs)?w._f.refs[0]:w._f.ref;if(xe(E)){const $=E.closest("form");if($){$.reset();break}}}}if(a.keepFieldsRef)for(const g of c.mount)B(g,y(d,g));else i={}}o=r.shouldUnregister?a.keepDefaultValues?O(n):{}:O(d),b.array.next({values:{...d}}),b.state.next({values:{...d}})}c={mount:a.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!v.isValid||!!a.keepIsValid||!!a.keepDirtyValues,u.watch=!!r.shouldUnregister,b.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:f?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!te(s,n)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?{}:a.keepDirtyValues?a.keepDefaultValues&&o?fe(n,o):t.dirtyFields:a.keepDefaultValues&&s?fe(n,s):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},Qe=(s,a)=>Je(Y(s)?s(o):s,a),Mt=(s,a={})=>{const l=y(i,s),m=l&&l._f;if(m){const f=m.refs?m.refs[0]:m.ref;f.focus&&(f.focus(),a.shouldSelect&&Y(f.select)&&f.select())}},Ot=s=>{t={...t,...s}},Xe={control:{register:Re,unregister:Le,getFieldState:$e,handleSubmit:Ye,setError:ze,_subscribe:Ke,_runSchema:se,_focusError:Me,_getWatch:F,_getDirty:J,_setValid:k,_setFieldArray:le,_setDisabledField:Ge,_setErrors:I,_getFieldArray:S,_reset:Je,_resetDefaultValues:()=>Y(r.defaultValues)&&r.defaultValues().then(s=>{Qe(s,r.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:ne,_disableForm:Lt,_subjects:b,_proxyFormState:v,get _fields(){return i},get _formValues(){return o},get _state(){return u},set _state(s){u=s},get _defaultValues(){return n},get _names(){return c},set _names(s){c=s},get _formState(){return t},get _options(){return r},set _options(s){r={...r,...s}}},subscribe:pt,trigger:ue,register:Re,handleSubmit:Ye,watch:Ct,setValue:B,getValues:be,reset:Qe,resetField:Rt,clearErrors:kt,unregister:Le,setError:ze,setFocus:Mt,getFieldState:$e};return{...Xe,formControl:Xe}}function Fr(e={}){const r=V.useRef(void 0),t=V.useRef(void 0),[i,n]=V.useState({isDirty:!1,isValidating:!1,isLoading:Y(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Y(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:i},e.defaultValues&&!Y(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...c}=or(e);r.current={...c,formState:i}}const o=r.current.control;return o._options=e,je(()=>{const u=o._subscribe({formState:o._proxyFormState,callback:()=>n({...o._formState}),reRenderRoot:!0});return n(c=>({...c,isReady:!0})),o._formState.isReady=!0,u},[o]),V.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),V.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),V.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),V.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),V.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==i.isDirty&&o._subjects.state.next({isDirty:u})}},[o,i.isDirty]),V.useEffect(()=>{e.values&&!te(e.values,t.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),t.current=e.values,n(u=>({...u}))):o._resetDefaultValues()},[o,e.values]),V.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),r.current.formState=ht(i,o),r.current}const ft=(e,r,t)=>{if(e&&"reportValidity"in e){const i=y(t,r);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Dt=(e,r)=>{for(const t in r.fields){const i=r.fields[t];i&&i.ref&&"reportValidity"in i.ref?ft(i.ref,t,e):i.refs&&i.refs.forEach(n=>ft(n,t,e))}},lr=(e,r)=>{r.shouldUseNativeValidation&&Dt(e,r);const t={};for(const i in e){const n=y(r.fields,i),o=Object.assign(e[i]||{},{ref:n&&n.ref});if(ur(r.names||Object.keys(e),i)){const u=Object.assign({},y(t,i));D(u,"root",o),D(t,i,u)}else D(t,i,o)}return t},ur=(e,r)=>e.some(t=>t.startsWith(r+"."));var cr=function(e,r){for(var t={};e.length;){var i=e[0],n=i.code,o=i.message,u=i.path.join(".");if(!t[u])if("unionErrors"in i){var c=i.unionErrors[0].errors[0];t[u]={message:c.message,type:c.code}}else t[u]={message:o,type:n};if("unionErrors"in i&&i.unionErrors.forEach(function(v){return v.errors.forEach(function(x){return e.push(x)})}),r){var _=t[u].types,A=_&&_[i.code];t[u]=bt(u,r,t,n,A?[].concat(A,i.message):i.message)}e.shift()}return t},_r=function(e,r,t){return t===void 0&&(t={}),function(i,n,o){try{return Promise.resolve((function(u,c){try{var _=Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](i,r)).then(function(A){return o.shouldUseNativeValidation&&Dt({},o),{errors:{},values:t.raw?i:A}})}catch(A){return c(A)}return _&&_.then?_.then(void 0,c):_})(0,function(u){if((function(c){return Array.isArray(c?.errors)})(u))return{values:{},errors:lr(cr(u.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw u}))}catch(u){return Promise.reject(u)}}};const xr=Ht,St=Z.createContext({}),Ar=({...e})=>ae.jsx(St.Provider,{value:{name:e.name},children:ae.jsx(Gt,{...e})}),Ce=()=>{const e=Z.useContext(St),r=Z.useContext(Et),{getFieldState:t,formState:i}=ke(),n=t(e.name,i);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=r;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...n}},Et=Z.createContext({}),dr=Z.forwardRef(({className:e,...r},t)=>{const i=Z.useId();return ae.jsx(Et.Provider,{value:{id:i},children:ae.jsx("div",{ref:t,className:De("space-y-2",e),...r})})});dr.displayName="FormItem";const fr=Z.forwardRef(({className:e,...r},t)=>{const{error:i,formItemId:n}=Ce();return ae.jsx(Pt,{ref:t,className:De(i&&"text-destructive",e),htmlFor:n,...r})});fr.displayName="FormLabel";const yr=Z.forwardRef(({...e},r)=>{const{error:t,formItemId:i,formDescriptionId:n,formMessageId:o}=Ce();return ae.jsx(Ut,{ref:r,id:i,"aria-describedby":t?`${n} ${o}`:`${n}`,"aria-invalid":!!t,...e})});yr.displayName="FormControl";const mr=Z.forwardRef(({className:e,...r},t)=>{const{formDescriptionId:i}=Ce();return ae.jsx("p",{ref:t,id:i,className:De("text-sm text-muted-foreground",e),...r})});mr.displayName="FormDescription";const gr=Z.forwardRef(({className:e,children:r,...t},i)=>{const{error:n,formMessageId:o}=Ce(),u=n?String(n?.message??""):r;return u?ae.jsx("p",{ref:i,id:o,className:De("text-sm font-medium text-destructive",e),...t,children:u}):null});gr.displayName="FormMessage";const wr=Se({need:H().min(10,"Le besoin doit faire au moins 10 caractères"),maxBudget:he().min(1,"Le budget doit être supérieur à 0"),maxDelay:H().min(1,"Veuillez sélectionner un délai"),location:H().min(1,"La localisation est requise"),phone:H().optional(),email:H().email("Email invalide").optional().or(Bt(""))}),Dr=Se({need:H().min(10,"Le besoin doit faire au moins 10 caractères"),frequency:qt(["weekly","bi-weekly","monthly"],{errorMap:()=>({message:"Veuillez sélectionner une fréquence"})}),durationMinutes:he().min(15,"La durée doit être d'au moins 15 minutes"),monthlyBudget:he().min(1,"Le budget doit être supérieur à 0"),preferredSlot:H().min(1,"Veuillez sélectionner un créneau"),location:H().min(1,"La localisation est requise")}),Sr=Se({category:H().min(1,"Veuillez sélectionner une catégorie"),need:H().min(10,"Le besoin doit faire au moins 10 caractères"),location:H().min(1,"La localisation est requise"),pricePerParticipant:he().min(1,"Le prix par participant doit être supérieur à 0"),targetParticipants:he().min(2,"Au minimum 2 participants requis"),deadline:H().min(1,"Veuillez sélectionner une date limite")}),Er=Se({description:H().min(20,"La description doit faire au moins 20 caractères")});export{xr as F,Ar as a,dr as b,fr as c,yr as d,gr as e,wr as f,Sr as g,Er as i,Dr as r,_r as t,Fr as u};
