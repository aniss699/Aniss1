import{r as n,j as e}from"./ui-BW6CElO3.js";import{u as p}from"./useQuery-ULOzoGd_.js";import{d as b,u as j,B as r,P as d,p as h}from"./index-CeyWb44D.js";import{f as u,a as y}from"./categories-DUi1-GTl.js";import{M as f}from"./mission-detail-modal-BJaZIGeP.js";import{C as g,H as N}from"./hand-N1FV3Bc5.js";import"./vendor-D3F3s8fL.js";import"./textarea-vXJzAAjs.js";import"./badge-BFDiZWfr.js";import"./tabs-DutlLzfS.js";import"./lucide-react-DVQBDERc.js";import"./activity-CgRCV4aX.js";import"./award-DQzPnlv9.js";import"./book-open-CcxmzFMy.js";import"./calendar-CxZDpOXK.js";import"./save-CxLE34wm.js";import"./chevron-left-DDD175eO.js";import"./chevron-up-tKqlIl_R.js";import"./circle-alert-CCilQgjg.js";import"./circle-check-big-T-pNY54F.js";import"./circle-x-B5BXyjX_.js";import"./clock-Drlz0_G5.js";import"./video-DM2NmkpE.js";import"./euro-JGTNYqRo.js";import"./eye-Bwt3QZz1.js";import"./settings-B8K3TgML.js";import"./filter-CX8mTslW.js";import"./rocket-DF258Kr0.js";import"./house-B80EEFzl.js";import"./lightbulb-BYoYlQ6v.js";import"./loader-circle-B_MA5iX_.js";import"./trophy-1CDgEmiY.js";import"./mail-BUqTMARD.js";import"./map-pin-BAVoS8RV.js";import"./message-circle-CDQuc1i6.js";import"./phone-DQspOcbd.js";import"./refresh-cw-DWpV88Nf.js";import"./repeat-BPjqaBZ4.js";import"./send-DsOnaxXg.js";import"./shield-dahIyhLM.js";import"./square-pen-D6WSjGh6.js";import"./star-CXmTH7D6.js";import"./thumbs-up-CMFG9XfN.js";import"./trash-2-nYG8TDGv.js";import"./trending-up-BCSb1jQ7.js";import"./triangle-alert-DzcUbNtJ.js";import"./wand-sparkles-DRRkpXYv.js";import"./availability-calendar-B8taRwsW.js";import"./calendar-BnQ_WdeI.js";import"./smart-bid-analyzer-UFYG_xDC.js";function ye(){const{user:t}=b(),[,i]=j(),[a,m]=n.useState("posted"),[l,o]=n.useState(null),{data:x=[]}=p({queryKey:["/api/users",t?.id,"missions"],enabled:!!t}),{data:c=[]}=p({queryKey:["/api/users",t?.id,"bids"],enabled:!!t&&t.type==="provider"});return t?e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6 sm:mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-1 sm:mb-2",children:"Mes Missions"}),e.jsx("p",{className:"text-base sm:text-lg text-gray-600",children:"Gérez vos projets et consultez les offres reçues"})]}),e.jsxs(r,{onClick:()=>i(h.createMission),size:"lg",className:"w-full sm:w-auto",children:[e.jsx(d,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),"Nouveau Projet"]})]}),e.jsx("div",{className:"border-b border-gray-200 mb-8",children:e.jsxs("nav",{className:"-mb-px flex space-x-6 sm:space-x-8",children:[e.jsx("button",{onClick:()=>m("posted"),className:`py-2 px-1 border-b-2 font-medium text-sm sm:text-base ${a==="posted"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Missions publiées"}),t.type==="provider"&&e.jsx("button",{onClick:()=>m("bids"),className:`py-2 px-1 border-b-2 font-medium text-sm sm:text-base ${a==="bids"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Mes candidatures"})]})}),a==="posted"&&e.jsx("div",{className:"space-y-6",children:x.length>0?x.map(s=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sm:p-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-4 gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:s.title}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:s.description})]}),e.jsxs("div",{className:"text-left sm:text-right",children:[e.jsx("div",{className:"text-xl font-bold text-primary",children:u(s.budget||"0")}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:y(s.createdAt)})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-sm text-gray-600 mb-3 sm:mb-0",children:[e.jsxs("span",{children:["Catégorie: ",s.category]}),e.jsxs("span",{children:["Lieu: ",s.location||"Non spécifié"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(r,{variant:"outline",size:"sm",onClick:()=>o(s.id),children:"Voir les offres"}),e.jsx(r,{variant:"outline",size:"sm",children:"Modifier"})]})]})]},s.id)):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(g,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"Vous n'avez pas encore publié de missions"}),e.jsxs(r,{onClick:()=>i(h.createMission),className:"bg-primary hover:bg-primary-dark text-white",children:[e.jsx(d,{className:"w-4 h-4 mr-2"}),"Créer ma première mission"]})]})}),a==="bids"&&t.type==="provider"&&e.jsx("div",{className:"space-y-6",children:c.length>0?c.map(s=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sm:p-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Mission candidatée"}),e.jsx("p",{className:"text-gray-600 mb-4 text-sm sm:text-base",children:s.proposal}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Votre offre:"}),e.jsx("span",{className:"text-xl font-bold text-primary ml-2",children:u(s.price)})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-3 sm:mt-0",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["Délai: ",s.timeline]}),e.jsx("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm",children:"En attente"})]})]})]},s.id)):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(N,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"Vous n'avez pas encore postulé à des missions"}),e.jsx(r,{onClick:()=>i("/marketplace"),className:"bg-primary hover:bg-primary-dark text-white",children:"Découvrir les missions"})]})}),e.jsx(f,{missionId:l,isOpen:!!l,onClose:()=>o(null)})]}):e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Connexion requise"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Veuillez vous connecter pour voir vos missions"}),e.jsx(r,{onClick:()=>i("/"),children:"Retour à l'accueil"})]})})}export{ye as default};
