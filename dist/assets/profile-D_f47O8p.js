import{r as m,R as Ae,k as ke,j as e,G as Ie,u as oe,c as _e,H as Ee}from"./ui-DaZ93cLC.js";import{H as re,C as y,a as T,n as R,s as z,b as w,B as u,F as de,T as B,D as Pe,i as Te,k as Re,m as ze,Z as me,X as J,S as U,d as De,e as Fe,l as F,U as O,L as k,I,P as K}from"./index-BCbN5iIX.js";import{T as X}from"./textarea-B6_KM4aL.js";import{B as E}from"./badge-CoUKijwm.js";import{T as Me,a as $e,b as $,c as L}from"./tabs-DYUWYBJW.js";import{u as Le}from"./index-L6kUD7G9.js";import{A as qe,a as Be,b as Oe}from"./avatar-B0oTUU7m.js";import{A as Ue}from"./availability-calendar-aH5Da0SD.js";import{E as ae}from"./eye-DLDZfJTV.js";import{S as q}from"./star-CP2-R7xt.js";import{C as ie}from"./circle-alert-p1idmpCo.js";import{T as le}from"./trending-up-NfKkHD34.js";import{L as Q}from"./lightbulb-Bwhq_4rL.js";import{C as Y}from"./circle-check-big-usk8155d.js";import{W as He}from"./wand-sparkles-BfwA2ro6.js";import{R as ne,C as We,S as Ve}from"./trash-2-Dbl94N8_.js";import{S as Ge}from"./square-pen-w-xVNvQl.js";import{M as Ke}from"./mail-BydR-YuG.js";import{M as ce}from"./map-pin-PJSHdzD2.js";import{P as Xe}from"./phone-IpJnegur.js";import{C as Z}from"./clock-DfxM6wlR.js";import{R as Ze}from"./refresh-cw-CL1VIIMa.js";import"./vendor-D3F3s8fL.js";import"./calendar-Diy-WBx_.js";import"./chevron-left-XaRf_6lC.js";function Je(s,o,{checkForDefaultPrevented:l=!0}={}){return function(x){if(s?.(x),l===!1||!x.defaultPrevented)return o?.(x)}}var Qe=Ae[" useInsertionEffect ".trim().toString()]||ke;function Ye({prop:s,defaultProp:o,onChange:l=()=>{},caller:r}){const[x,d,j]=es({defaultProp:o,onChange:l}),i=s!==void 0,p=i?s:x;{const h=m.useRef(s!==void 0);m.useEffect(()=>{const f=h.current;f!==i&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=i},[i,r])}const v=m.useCallback(h=>{if(i){const f=ss(h)?h(s):h;f!==s&&j.current?.(f)}else d(h)},[i,s,d,j]);return[p,v]}function es({defaultProp:s,onChange:o}){const[l,r]=m.useState(s),x=m.useRef(l),d=m.useRef(o);return Qe(()=>{d.current=o},[o]),m.useEffect(()=>{x.current!==l&&(d.current?.(l),x.current=l)},[l,x]),[l,r,d]}function ss(s){return typeof s=="function"}function ts(s){const o=rs(s),l=m.forwardRef((r,x)=>{const{children:d,...j}=r,i=m.Children.toArray(d),p=i.find(is);if(p){const v=p.props.children,h=i.map(f=>f===p?m.Children.count(v)>1?m.Children.only(null):m.isValidElement(v)?v.props.children:null:f);return e.jsx(o,{...j,ref:x,children:m.isValidElement(v)?m.cloneElement(v,void 0,h):null})}return e.jsx(o,{...j,ref:x,children:d})});return l.displayName=`${s}.Slot`,l}function rs(s){const o=m.forwardRef((l,r)=>{const{children:x,...d}=l;if(m.isValidElement(x)){const j=ns(x),i=ls(d,x.props);return x.type!==m.Fragment&&(i.ref=r?Ie(r,j):j),m.cloneElement(x,i)}return m.Children.count(x)>1?m.Children.only(null):null});return o.displayName=`${s}.SlotClone`,o}var as=Symbol("radix.slottable");function is(s){return m.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===as}function ls(s,o){const l={...o};for(const r in o){const x=s[r],d=o[r];/^on[A-Z]/.test(r)?x&&d?l[r]=(...i)=>{const p=d(...i);return x(...i),p}:x&&(l[r]=x):r==="style"?l[r]={...x,...d}:r==="className"&&(l[r]=[x,d].filter(Boolean).join(" "))}return{...s,...l}}function ns(s){let o=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,l=o&&"isReactWarning"in o&&o.isReactWarning;return l?s.ref:(o=Object.getOwnPropertyDescriptor(s,"ref")?.get,l=o&&"isReactWarning"in o&&o.isReactWarning,l?s.props.ref:s.props.ref||s.ref)}var cs=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xe=cs.reduce((s,o)=>{const l=ts(`Primitive.${o}`),r=m.forwardRef((x,d)=>{const{asChild:j,...i}=x,p=j?l:o;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(p,{...i,ref:d})});return r.displayName=`Primitive.${o}`,{...s,[o]:r}},{}),H="Switch",[os,Bs]=_e(H),[ds,ms]=os(H),pe=m.forwardRef((s,o)=>{const{__scopeSwitch:l,name:r,checked:x,defaultChecked:d,required:j,disabled:i,value:p="on",onCheckedChange:v,form:h,...f}=s,[C,g]=m.useState(null),A=oe(o,N=>g(N)),S=m.useRef(!1),_=C?h||!!C.closest("form"):!0,[a,c]=Ye({prop:x,defaultProp:d??!1,onChange:v,caller:H});return e.jsxs(ds,{scope:l,checked:a,disabled:i,children:[e.jsx(xe.button,{type:"button",role:"switch","aria-checked":a,"aria-required":j,"data-state":je(a),"data-disabled":i?"":void 0,disabled:i,value:p,...f,ref:A,onClick:Je(s.onClick,N=>{c(P=>!P),_&&(S.current=N.isPropagationStopped(),S.current||N.stopPropagation())})}),_&&e.jsx(ge,{control:C,bubbles:!S.current,name:r,value:p,checked:a,required:j,disabled:i,form:h,style:{transform:"translateX(-100%)"}})]})});pe.displayName=H;var he="SwitchThumb",ue=m.forwardRef((s,o)=>{const{__scopeSwitch:l,...r}=s,x=ms(he,l);return e.jsx(xe.span,{"data-state":je(x.checked),"data-disabled":x.disabled?"":void 0,...r,ref:o})});ue.displayName=he;var xs="SwitchBubbleInput",ge=m.forwardRef(({__scopeSwitch:s,control:o,checked:l,bubbles:r=!0,...x},d)=>{const j=m.useRef(null),i=oe(j,d),p=Le(l),v=Ee(o);return m.useEffect(()=>{const h=j.current;if(!h)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(p!==l&&g){const A=new Event("click",{bubbles:r});g.call(h,l),h.dispatchEvent(A)}},[p,l,r]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:l,...x,tabIndex:-1,ref:i,style:{...x.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ge.displayName=xs;function je(s){return s?"checked":"unchecked"}var be=pe,ps=ue;const fe=m.forwardRef(({className:s,...o},l)=>e.jsx(be,{className:re("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...o,ref:l,children:e.jsx(ps,{className:re("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));fe.displayName=be.displayName;function hs({userProfile:s,userType:o,onApplySuggestion:l}){const[r,x]=m.useState(null),[d,j]=m.useState(!1),[i,p]=m.useState(null),[v,h]=m.useState(!1),f=async()=>{j(!0);try{const a=await fetch("/api/ai/analyze-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile:s,user_type:o})});if(a.ok){const c=await a.json();x(c)}}catch(a){console.error("Erreur analyse profil:",a),x(C())}finally{j(!1)}},C=()=>{const a=A(),c=[];return(!s.bio||s.bio.length<100)&&c.push({category:"Description",item:"Description détaillée",impact:"high",suggestion:"Ajoutez une description de 150-300 mots pour expliquer votre expertise",estimated_improvement:"+25% de visibilité"}),o==="provider"&&((!s.skills||s.skills.length<5)&&c.push({category:"Compétences",item:"Liste des compétences",impact:"high",suggestion:"Ajoutez au moins 5-8 compétences principales",estimated_improvement:"+30% de correspondance"}),(!s.portfolio||s.portfolio.length<3)&&c.push({category:"Portfolio",item:"Projets de référence",impact:"medium",suggestion:"Ajoutez 3-5 projets récents avec descriptions détaillées",estimated_improvement:"+20% de confiance client"})),{completeness_score:a,visibility_score:Math.min(a*1.2,100),trust_score:a*.8+(s.portfolio?.length||0)*5,missing_elements:c,strengths:["Profil vérifié","Informations de contact complètes"],ai_suggestions:[{type:"text_improvement",field:"bio",current:s.bio||"",suggested:g(),reasoning:"Description plus engageante et professionnelle",impact_score:85}],market_positioning:{current_rank:"Intermédiaire",potential_rank:"Expert",competitive_advantage:["Disponibilité rapide","Communication claire"]}}},g=()=>o==="provider"?"Développeur full-stack passionné avec expertise en React, Node.js et TypeScript. J'accompagne les entreprises dans leur transformation digitale en créant des solutions web modernes et performantes. Spécialisé dans l'architecture scalable et les interfaces utilisateur intuitives. Plus de 50 projets réalisés avec un taux de satisfaction client de 98%.":"Entreprise innovante spécialisée dans [votre secteur]. Nous recherchons des talents créatifs pour nos projets ambitieux. Notre équipe valorise l'excellence technique, la créativité et la collaboration. Nous privilégions les partenariats long terme avec nos prestataires.",A=()=>{let a=0;return s.name&&(a+=10),s.email&&(a+=10),s.phone&&(a+=5),s.location&&(a+=5),s.bio&&s.bio.length>50&&(a+=20),o==="provider"?(s.skills&&s.skills.length>=5&&(a+=25),s.portfolio&&s.portfolio.length>=3&&(a+=15),s.hourlyRate&&(a+=10)):(s.company&&(a+=15),s.industry&&(a+=15),s.bio&&s.bio.length>100&&(a+=10)),Math.min(a,100)},S=a=>a>=80?"text-green-600":a>=60?"text-yellow-600":"text-red-600",_=a=>a>=80?"bg-green-100":a>=60?"bg-yellow-100":"bg-red-100";return e.jsxs(y,{className:"border-2 border-blue-200 shadow-xl bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[e.jsx(T,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100",children:e.jsxs(R,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-100 to-purple-100 rounded-xl shadow-md",children:e.jsx(z,{className:"h-7 w-7 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:"Analyse IA de votre profil"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Optimisez votre visibilité et attractivité"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs(E,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white text-lg px-4 py-2 shadow-lg",children:[r?.completeness_score||0,"% complet"]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Score de visibilité: ",r?.visibility_score||0,"%"]})]})]})}),e.jsx(w,{className:"space-y-6",children:r?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:`p-4 rounded-lg ${_(r.completeness_score)}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(de,{className:"h-5 w-5"}),e.jsxs("span",{className:`text-2xl font-bold ${S(r.completeness_score)}`,children:[r.completeness_score,"%"]})]}),e.jsx("p",{className:"text-sm font-medium",children:"Complétude"})]}),e.jsxs("div",{className:`p-4 rounded-lg ${_(r.visibility_score)}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(ae,{className:"h-5 w-5"}),e.jsxs("span",{className:`text-2xl font-bold ${S(r.visibility_score)}`,children:[r.visibility_score,"%"]})]}),e.jsx("p",{className:"text-sm font-medium",children:"Visibilité"})]}),e.jsxs("div",{className:`p-4 rounded-lg ${_(r.trust_score)}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(q,{className:"h-5 w-5"}),e.jsxs("span",{className:`text-2xl font-bold ${S(r.trust_score)}`,children:[Math.round(r.trust_score),"%"]})]}),e.jsx("p",{className:"text-sm font-medium",children:"Confiance"})]})]}),r.missing_elements.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[e.jsx(ie,{className:"h-4 w-4 mr-2 text-orange-500"}),"Améliorations prioritaires"]}),e.jsx("div",{className:"space-y-3",children:r.missing_elements.map((a,c)=>e.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium",children:a.item}),e.jsx(E,{variant:a.impact==="high"?"destructive":a.impact==="medium"?"default":"secondary",className:"text-xs",children:a.impact==="high"?"Priorité haute":a.impact==="medium"?"Priorité moyenne":"Priorité basse"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:a.suggestion}),e.jsxs("div",{className:"flex items-center text-xs text-green-600",children:[e.jsx(le,{className:"h-3 w-3 mr-1"}),a.estimated_improvement]})]})})},c))})]}),r.ai_suggestions.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[e.jsx(Q,{className:"h-4 w-4 mr-2 text-blue-500"}),"Suggestions d'amélioration IA"]}),e.jsx("div",{className:"space-y-3",children:r.ai_suggestions.map((a,c)=>e.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"font-medium capitalize",children:a.field}),e.jsxs(E,{variant:"outline",className:"text-xs",children:["Impact: ",a.impact_score,"%"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:a.reasoning}),a.current&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Actuel:"}),e.jsxs("div",{className:"bg-gray-100 p-2 rounded text-sm",children:[a.current.substring(0,100),"..."]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs text-blue-600 mb-1",children:"Suggestion IA:"}),e.jsx("div",{className:"bg-white p-3 rounded border border-blue-200 text-sm",children:a.suggested})]})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(u,{size:"sm",onClick:()=>l(a.field,a.suggested),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Y,{className:"h-3 w-3 mr-1"}),"Appliquer"]}),e.jsx(u,{size:"sm",variant:"outline",onClick:()=>p(i===c?null:c),children:i===c?"Masquer":"Détails"})]}),i===c&&e.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:e.jsxs("p",{className:"text-xs text-gray-600",children:["Cette amélioration pourrait augmenter votre visibilité de ",e.jsxs("strong",{children:[a.impact_score,"%"]}),"en rendant votre profil plus attractif pour les ",o==="provider"?"clients":"prestataires","."]})})]},c))})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 p-4 rounded-lg",children:[e.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[e.jsx(B,{className:"h-4 w-4 mr-2 text-purple-500"}),"Positionnement marché"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Position actuelle"}),e.jsx("p",{className:"font-medium",children:r.market_positioning.current_rank})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Potentiel"}),e.jsx("p",{className:"font-medium text-green-600",children:r.market_positioning.potential_rank})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Avantages concurrentiels:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:r.market_positioning.competitive_advantage.map((a,c)=>e.jsx(E,{variant:"secondary",className:"text-xs",children:a},c))})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs(u,{onClick:()=>h(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg",children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),"Voir l'analyse détaillée"]})}),e.jsx(Pe,{open:v,onOpenChange:h,children:e.jsxs(Te,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsx(Re,{children:"Analyse détaillée du profil IA"}),e.jsx(ze,{children:"Découvrez les recommandations personnalisées pour optimiser votre profil et augmenter vos opportunités."}),e.jsxs("div",{className:"space-y-6",children:[r.missing_elements.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[e.jsx(ie,{className:"h-4 w-4 mr-2 text-orange-500"}),"Améliorations prioritaires"]}),e.jsx("div",{className:"space-y-3",children:r.missing_elements.map((a,c)=>e.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium",children:a.item}),e.jsx(E,{variant:a.impact==="high"?"destructive":a.impact==="medium"?"default":"secondary",className:"text-xs",children:a.impact==="high"?"Priorité haute":a.impact==="medium"?"Priorité moyenne":"Priorité basse"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:a.suggestion}),e.jsxs("div",{className:"flex items-center text-xs text-green-600",children:[e.jsx(le,{className:"h-3 w-3 mr-1"}),a.estimated_improvement]})]})})},c))})]}),r.ai_suggestions.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[e.jsx(Q,{className:"h-4 w-4 mr-2 text-blue-500"}),"Suggestions d'amélioration IA"]}),e.jsx("div",{className:"space-y-3",children:r.ai_suggestions.map((a,c)=>e.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"font-medium capitalize",children:a.field}),e.jsxs(E,{variant:"outline",className:"text-xs",children:["Impact: ",a.impact_score,"%"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:a.reasoning}),a.current&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Actuel:"}),e.jsxs("div",{className:"bg-gray-100 p-2 rounded text-sm",children:[a.current.substring(0,100),"..."]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs text-blue-600 mb-1",children:"Suggestion IA:"}),e.jsx("div",{className:"bg-white p-3 rounded border border-blue-200 text-sm",children:a.suggested})]})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(u,{size:"sm",onClick:()=>l(a.field,a.suggested),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Y,{className:"h-3 w-3 mr-1"}),"Appliquer"]}),e.jsx(u,{size:"sm",variant:"outline",onClick:()=>p(i===c?null:c),children:i===c?"Masquer":"Détails"})]}),i===c&&e.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:e.jsxs("p",{className:"text-xs text-gray-600",children:["Cette amélioration pourrait augmenter votre visibilité de ",e.jsxs("strong",{children:[a.impact_score,"%"]}),"en rendant votre profil plus attractif pour les ",o==="provider"?"clients":"prestataires","."]})})]},c))})]})]})]})}),e.jsx("div",{className:"text-center",children:e.jsxs(u,{variant:"outline",onClick:f,disabled:d,className:"w-full",children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"Re-analyser le profil"]})})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(u,{onClick:f,disabled:d,className:"bg-blue-600 hover:bg-blue-700",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Analyse en cours..."]}):e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Analyser mon profil avec l'IA"]})}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"L'IA analysera votre profil en 30 secondes"})]})})]})}function us({inputValue:s,onSuggestionApply:o,context:l,className:r="",disabled:x=!1}){const[d,j]=m.useState([]),[i,p]=m.useState(!1),[v,h]=m.useState(!1),[f,C]=m.useState(0),g=m.useRef();m.useEffect(()=>(g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{s.length>3&&!x?A():(j([]),h(!1))},500),()=>{g.current&&clearTimeout(g.current)}),[s,l]);const A=async()=>{p(!0);try{const c=S();j(c),h(c.length>0)}catch(c){console.error("Erreur suggestion texte:",c),j([{id:"basic",type:"improvement",text:s,confidence:50,reasoning:"Suggestion de base",category:"Fallback"}]),h(!1)}finally{p(!1)}},S=()=>{const c=[],N=s.toLowerCase();return s.length>0&&c.push({id:"base",type:"improvement",text:s+" [Optimisé par IA]",confidence:75,reasoning:"Amélioration automatique du texte",category:"Optimisation générale"}),(l?.field==="bio"||l?.field==="description")&&(s.length<50&&c.push({id:"1",type:"extension",text:s+" Avec une expérience solide dans mon domaine, je m'engage à livrer des résultats de qualité dans les délais convenus. Ma priorité est la satisfaction client et l'excellence technique.",confidence:85,reasoning:"Extension professionnelle adaptée au contexte",category:"Extension professionnelle"}),!N.includes("expérience")&&!N.includes("expertise")&&c.push({id:"2",type:"improvement",text:s+" Fort de plusieurs années d'expérience, je maîtrise les dernières technologies et méthodologies de mon secteur.",confidence:80,reasoning:"Ajout de crédibilité professionnelle",category:"Crédibilité"})),l?.field==="title"&&(c.push({id:"3",type:"improvement",text:s.charAt(0).toUpperCase()+s.slice(1)+" - Solution clé en main",confidence:75,reasoning:"Titre plus accrocheur et professionnel",category:"Optimisation titre"}),c.push({id:"3b",type:"extension",text:"🚀 "+s+" | Expertise & Innovation",confidence:80,reasoning:"Titre avec émojis et mots-clés attractifs",category:"Marketing"})),(l?.category==="project"||l?.field==="project_description")&&(!N.includes("budget")&&!N.includes("délai")&&c.push({id:"4",type:"completion",text:s+" Budget flexible selon la proposition. Délais préférentiels sous 4 semaines. Ouvert aux suggestions d'amélioration.",confidence:90,reasoning:"Informations essentielles manquantes ajoutées",category:"Informations projet"}),!N.includes("livrable")&&!N.includes("résultat")&&c.push({id:"5",type:"extension",text:s+" Livrables attendus : code source documenté, tests inclus, formation si nécessaire. Suivi post-livraison garanti.",confidence:88,reasoning:"Clarification des attentes et livrables",category:"Livrables"})),s.length>10&&c.push({id:"format",type:"correction",text:s.replace(/\b\w+/g,P=>P.charAt(0).toUpperCase()+P.slice(1).toLowerCase()),confidence:70,reasoning:"Amélioration de la mise en forme et lisibilité",category:"Formatage"}),c.slice(0,3)},_=c=>{switch(c){case"completion":return e.jsx(B,{className:"h-3 w-3"});case"improvement":return e.jsx(U,{className:"h-3 w-3"});case"extension":return e.jsx(me,{className:"h-3 w-3"});case"correction":return e.jsx(ne,{className:"h-3 w-3"});default:return e.jsx(Q,{className:"h-3 w-3"})}},a=c=>{switch(c){case"completion":return"border-blue-200 bg-blue-50";case"improvement":return"border-purple-200 bg-purple-50";case"extension":return"border-green-200 bg-green-50";case"correction":return"border-orange-200 bg-orange-50";default:return"border-gray-200 bg-gray-50"}};return!v&&!i?null:e.jsx("div",{className:`relative ${r}`,children:(v||i)&&e.jsx(y,{className:"absolute top-full left-0 right-0 z-50 mt-2 shadow-lg border-2 border-blue-200",children:e.jsxs(w,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(He,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Assistant IA - Suggestions de texte"})]}),e.jsx(u,{variant:"ghost",size:"icon",onClick:()=>h(!1),className:"h-6 w-6",children:e.jsx(J,{className:"h-3 w-3"})})]}),i?e.jsxs("div",{className:"flex items-center justify-center py-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Génération en cours..."})]}):e.jsxs("div",{className:"space-y-3",children:[d.map((c,N)=>e.jsxs("div",{className:`border rounded-lg p-3 cursor-pointer transition-all ${a(c.type)} ${f===N?"ring-2 ring-blue-400":""}`,onClick:()=>C(N),children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[_(c.type),e.jsx(E,{variant:"outline",className:"text-xs",children:c.category}),e.jsxs("span",{className:"text-xs text-gray-500",children:[c.confidence,"% confiance"]})]})}),e.jsx("p",{className:"text-sm text-gray-700 mb-2 line-clamp-3",children:c.text}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-xs text-gray-500",children:c.reasoning}),e.jsxs(u,{size:"sm",onClick:P=>{P.stopPropagation(),o(c.text),h(!1)},className:"h-7 text-xs",children:[e.jsx(Y,{className:"h-3 w-3 mr-1"}),"Appliquer"]})]})]},c.id)),e.jsx("div",{className:"border-t pt-3 mt-3",children:e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"Suggestions basées sur l'IA et le contexte"}),e.jsxs(u,{variant:"ghost",size:"sm",onClick:A,className:"h-6 text-xs",children:[e.jsx(ne,{className:"h-3 w-3 mr-1"}),"Actualiser"]})]})})]})]})})})}function Os(){const{user:s,login:o}=De(),{toast:l}=Fe(),[r,x]=m.useState(!1),[d,j]=m.useState(s?.type||"client"),[i,p]=m.useState({name:s?.name||"",email:s?.email||"",phone:"+33 6 12 34 56 78",location:"Paris, France",bio:d==="client"?"Nous recherchons des talents créatifs pour développer nos projets innovants.":"Développeur full-stack passionné avec 5+ années d'expérience en React, Node.js et design UX/UI.",skills:d==="provider"?["React","Node.js","TypeScript","MongoDB","Design UX/UI","Figma"]:[],experience:"Plus de 5 années d'expérience dans le développement web full-stack...",portfolio:d==="provider"?[{title:"E-commerce Platform",description:"Application de vente en ligne complète avec paiement intégré"},{title:"Dashboard Analytics",description:"Interface d'analytics en temps réel avec graphiques interactifs"},{title:"Mobile App",description:"Application mobile cross-platform en React Native"}]:[],availability:!0,hourlyRate:"75",company:"TechStart Solutions",industry:"Technology & Innovation",calendarAvailability:[],keywords:[]}),[v,h]=m.useState(""),[f,C]=m.useState({title:"",description:""}),[g,A]=m.useState(void 0),[S,_]=m.useState(!1),a=(t,n)=>{p(b=>({...b,[t]:n})),l({title:"Suggestion appliquée",description:`Le champ "${t}" a été mis à jour avec la suggestion IA.`})},c=t=>n=>{p(b=>({...b,[t]:n}))},N=()=>{if(s&&s.type!==d){const t={...s,type:d};o(t)}l({title:"Profil sauvegardé",description:"Vos informations ont été mises à jour avec succès."}),x(!1)},P=t=>{if(j(t),s){const n={...s,type:t};o(n),l({title:"Mode changé",description:`Vous êtes maintenant en mode ${t==="client"?"Client":"Prestataire"}`})}},ee=()=>{v.trim()&&!i.skills.includes(v.trim())&&(p(t=>({...t,skills:[...t.skills,v.trim()]})),h(""))},ve=t=>{p(n=>({...n,skills:n.skills.filter(b=>b!==t)}))},Ne=()=>{f.title.trim()&&f.description.trim()&&(p(t=>({...t,portfolio:[...t.portfolio,f]})),C({title:"",description:""}))},ye=()=>{g&&g.start&&g.end&&g.start<g.end&&(p(t=>({...t,calendarAvailability:[...t.calendarAvailability,g]})),A(void 0))},we=t=>{p(n=>({...n,calendarAvailability:n.calendarAvailability.filter((b,D)=>D!==t)}))},W=async t=>{const n=i[t];if(n)try{const b=n+" [Version améliorée par IA - style optimisé]";M(t,b),l({title:"Texte amélioré !",description:"Votre texte a été optimisé par l'IA."})}catch{l({title:"Erreur",description:"Impossible d'améliorer le texte pour le moment.",variant:"destructive"})}},V=async t=>{const n=i[t];if(n)try{const D=n+` Mots-clés: ${(d==="provider"?["professionnel","expérimenté","qualité","délais"]:["partenariat","collaboration","projet","qualité"]).slice(0,2).join(", ")}.`;M(t,D),l({title:"Texte enrichi !",description:"Des mots-clés pertinents ont été ajoutés."})}catch{l({title:"Erreur",description:"Impossible d'enrichir le texte pour le moment.",variant:"destructive"})}},Ce=async t=>{const n=i[t];if(n)try{const D=n+(d==="provider"?" Contactez-moi pour discuter de votre projet !":" N'hésitez pas à nous contacter pour échanger !");M(t,D),l({title:"Appel à l'action ajouté !",description:"Un appel à l'action engageant a été ajouté."})}catch{l({title:"Erreur",description:"Impossible d'ajouter l'appel à l'action.",variant:"destructive"})}},Se=async t=>{const n=i[t];if(n)try{const b=n.split(". "),D=b.map((G,te)=>te===0?`✓ ${G}`:te<b.length-1?`• ${G}`:G).join(". ");M(t,D),l({title:"Texte structuré !",description:"La structure de votre texte a été améliorée."})}catch{l({title:"Erreur",description:"Impossible de structurer le texte.",variant:"destructive"})}},se=async()=>{try{const t=d==="provider"?["développement web","react","nodejs","consultation","formation"]:["projet digital","marketing","e-commerce","startup","innovation"],n=[...i.keywords||[],...t.slice(0,3)],b=[...new Set(n)];M("keywords",b),l({title:"Mots-clés suggérés !",description:`${t.slice(0,3).length} nouveaux mots-clés ajoutés par l'IA.`})}catch{l({title:"Erreur",description:"Impossible de générer des suggestions pour le moment.",variant:"destructive"})}},M=(t,n)=>{p(b=>({...b,[t]:n}))};return s?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mon Profil"}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(u,{onClick:()=>x(!r),variant:r?"outline":"default",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"}),r?"Annuler":"Modifier"]})})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-lg border",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Changer de mode"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>P("client"),className:`flex items-center px-6 py-3 rounded-lg font-medium transition-all ${d==="client"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(F,{className:"w-5 h-5 mr-2"}),"Mode Client"]}),e.jsxs("button",{onClick:()=>P("provider"),className:`flex items-center px-6 py-3 rounded-lg font-medium transition-all ${d==="provider"?"bg-green-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(O,{className:"w-5 h-5 mr-2"}),"Mode Prestataire"]})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:d==="client"?"Publiez des missions et trouvez des prestataires":"Recherchez des missions et proposez vos services"})]})})]}),e.jsxs(y,{className:"mb-8 overflow-hidden shadow-xl",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-32"}),e.jsx(w,{className:"p-6 -mt-16 relative",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center space-y-4 lg:space-y-0 lg:space-x-6",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs(qe,{className:"w-32 h-32 border-4 border-white shadow-xl",children:[e.jsx(Be,{src:""}),e.jsx(Oe,{className:"text-3xl bg-gradient-to-br from-blue-400 to-purple-500 text-white",children:i.name.split(" ").map(t=>t[0]).join("")})]}),r&&e.jsx(u,{size:"sm",className:"absolute -bottom-2 -right-2 rounded-full w-10 h-10 p-0 shadow-lg",children:e.jsx(We,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 space-y-2 sm:space-y-0 mb-3",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:i.name}),e.jsx(E,{className:`${d==="client"?"bg-blue-500":"bg-green-500"} px-3 py-1`,children:d==="client"?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Client Premium"]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Prestataire Certifié"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm text-gray-600 mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ke,{className:"w-4 h-4 mr-2 text-blue-500"}),e.jsx("span",{className:"truncate",children:i.email})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ce,{className:"w-4 h-4 mr-2 text-green-500"}),e.jsx("span",{children:i.location})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xe,{className:"w-4 h-4 mr-2 text-purple-500"}),e.jsx("span",{children:i.phone})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:d==="provider"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-xl p-4 border border-yellow-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(q,{className:"w-5 h-5 text-yellow-500"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"4.9"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"127 avis clients"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-4 border border-green-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(F,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"89"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Projets réalisés"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl p-4 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(O,{className:"w-5 h-5 text-blue-500"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"98%"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Taux de satisfaction"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl p-4 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(Z,{className:"w-5 h-5 text-purple-500"}),e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[i.hourlyRate,"€"]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tarif horaire"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl p-4 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(F,{className:"w-5 h-5 text-blue-500"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"23"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Projets publiés"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-4 border border-green-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(O,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"156"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Candidatures reçues"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl p-4 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(q,{className:"w-5 h-5 text-purple-500"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"4.8"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Note moyenne"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 rounded-xl p-4 border border-orange-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(ce,{className:"w-5 h-5 text-orange-500"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:i.industry?.split(" ")[0]||"Tech"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Secteur d'activité"})]})]})})]})]})})]}),e.jsxs(Me,{defaultValue:"general",className:"space-y-6",children:[e.jsxs($e,{className:"grid w-full grid-cols-6",children:[e.jsxs($,{value:"general",className:"flex items-center",children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),"Informations"]}),e.jsxs($,{value:"ai-analysis",className:"flex items-center",children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Assistant IA"]}),e.jsxs($,{value:"skills",className:"flex items-center",children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Compétences"]}),e.jsxs($,{value:"portfolio",className:"flex items-center",children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Portfolio"]}),e.jsxs($,{value:"availability",className:"flex items-center",children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Disponibilités"]}),e.jsxs($,{value:"preferences",className:"flex items-center",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Préférences"]})]}),e.jsx(L,{value:"ai-analysis",children:e.jsx(hs,{userProfile:i,userType:d,onApplySuggestion:a})}),e.jsxs(L,{value:"general",className:"space-y-6",children:[e.jsxs(y,{children:[e.jsx(T,{children:e.jsxs(R,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Informations générales"}),e.jsxs(E,{variant:"outline",className:"bg-blue-50 text-blue-600 border-blue-200",children:[e.jsx(z,{className:"w-4 h-4 mr-1"}),"Assistant IA activé"]})]})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"name",children:"Nom complet"}),e.jsx(I,{id:"name",value:i.name,onChange:t=>p(n=>({...n,name:t.target.value})),disabled:!r})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"email",children:"Email"}),e.jsx(I,{id:"email",type:"email",value:i.email,onChange:t=>p(n=>({...n,email:t.target.value})),disabled:!r})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"phone",children:"Téléphone"}),e.jsx(I,{id:"phone",value:i.phone,onChange:t=>p(n=>({...n,phone:t.target.value})),disabled:!r,placeholder:"+33 6 12 34 56 78"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"location",children:"Localisation"}),e.jsx(I,{id:"location",value:i.location,onChange:t=>p(n=>({...n,location:t.target.value})),disabled:!r,placeholder:"Paris, France"})]})]})]}),e.jsxs(y,{children:[e.jsx(T,{children:e.jsx(R,{children:d==="client"?"À propos de votre entreprise":"À propos de vous"})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(k,{htmlFor:"bio",children:"Description"}),e.jsxs("div",{className:"relative",children:[e.jsx(X,{id:"bio",value:i.bio||"",onChange:t=>M("bio",t.target.value),placeholder:d==="client"?"Décrivez votre entreprise et vos besoins...":"Présentez-vous et vos services...",rows:4,disabled:!r}),r&&e.jsx(us,{inputValue:i.bio,onSuggestionApply:c("bio"),context:{field:"bio",category:"profile",userType:d}})]}),r&&e.jsxs(y,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:[e.jsx(T,{className:"pb-3",children:e.jsxs(R,{className:"flex items-center gap-2 text-sm",children:[e.jsx(z,{className:"h-4 w-4 text-blue-600"}),"Assistant IA - Améliorer votre description"]})}),e.jsx(w,{className:"pt-0",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(u,{onClick:()=>W("bio"),variant:"outline",size:"sm",className:"border-blue-200 hover:bg-blue-50 text-blue-700",children:[e.jsx(U,{className:"h-3 w-3 mr-2"}),"Améliorer le style"]}),e.jsxs(u,{onClick:()=>V("bio"),variant:"outline",size:"sm",className:"border-green-200 hover:bg-green-50 text-green-700",children:[e.jsx(B,{className:"h-3 w-3 mr-2"}),"Enrichir avec mots-clés"]}),e.jsxs(u,{onClick:()=>Ce("bio"),variant:"outline",size:"sm",className:"border-orange-200 hover:bg-orange-50 text-orange-700",children:[e.jsx(Zap,{className:"h-3 w-3 mr-2"}),"Ajouter un appel à l'action"]}),e.jsxs(u,{onClick:()=>Se("bio"),variant:"outline",size:"sm",className:"border-purple-200 hover:bg-purple-50 text-purple-700",children:[e.jsx(Ze,{className:"h-3 w-3 mr-2"}),"Structurer le texte"]})]})})]})]}),d==="client"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"company",children:"Entreprise"}),e.jsx(I,{id:"company",value:i.company,onChange:t=>p(n=>({...n,company:t.target.value})),disabled:!r,placeholder:"Nom de votre entreprise"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"industry",children:"Secteur d'activité"}),e.jsx(I,{id:"industry",value:i.industry,onChange:t=>p(n=>({...n,industry:t.target.value})),disabled:!r,placeholder:"Ex: Tech, Marketing, Finance..."})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(k,{htmlFor:"experience",children:"Expérience"}),e.jsx(X,{id:"experience",value:i.experience,onChange:t=>p(n=>({...n,experience:t.target.value})),disabled:!r,placeholder:"Décrivez votre expérience professionnelle...",rows:3}),r&&e.jsx(y,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-green-200",children:e.jsxs(w,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(z,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-800",children:"IA - Optimiser votre expérience"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(u,{onClick:()=>W("experience"),variant:"outline",size:"sm",className:"border-green-200 hover:bg-green-50 text-green-700",children:[e.jsx(U,{className:"h-3 w-3 mr-2"}),"Perfectionner"]}),e.jsxs(u,{onClick:()=>V("experience"),variant:"outline",size:"sm",className:"border-blue-200 hover:bg-blue-50 text-blue-700",children:[e.jsx(B,{className:"h-3 w-3 mr-2"}),"Ajouter expertise"]})]})]})})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"hourlyRate",children:"Tarif horaire (€)"}),e.jsx(I,{id:"hourlyRate",type:"number",value:i.hourlyRate,onChange:t=>p(n=>({...n,hourlyRate:t.target.value})),disabled:!r,placeholder:"50"})]})]})]})]})]}),d==="provider"&&e.jsxs(e.Fragment,{children:[e.jsx(L,{value:"skills",className:"space-y-6",children:e.jsxs(y,{children:[e.jsx(T,{children:e.jsxs(R,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Compétences et Mots-clés"}),e.jsxs(u,{onClick:se,variant:"outline",size:"sm",className:"bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 border-blue-200 text-blue-700",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Suggestions IA"]})]})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.skills.map((t,n)=>e.jsxs(E,{variant:"secondary",className:"text-sm px-3 py-1.5 bg-gradient-to-r from-blue-100 to-purple-100 border-blue-200 text-blue-800 hover:from-blue-150 hover:to-purple-150 transition-all",children:[e.jsx(q,{className:"w-3 h-3 mr-1.5 text-blue-600"}),t,r&&e.jsx("button",{onClick:()=>ve(t),className:"ml-2 hover:text-red-500 transition-colors",children:e.jsx(J,{className:"w-3 h-3"})})]},n)),i.skills.length===0&&e.jsx("div",{className:"text-gray-500 italic text-sm bg-gray-50 px-4 py-2 rounded-lg border border-gray-200",children:"Aucune compétence ajoutée. Utilisez l'assistant IA pour des suggestions."})]}),r&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(I,{value:v,onChange:t=>h(t.target.value),placeholder:"Ajouter une compétence...",onKeyPress:t=>t.key==="Enter"&&ee()}),e.jsx(u,{onClick:ee,children:e.jsx(K,{className:"w-4 h-4"})})]})]})})]})}),e.jsx(L,{value:"portfolio",children:e.jsxs(y,{children:[e.jsx(T,{children:e.jsx(R,{children:"Portfolio"})}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:i.portfolio.map((t,n)=>e.jsx(y,{className:"border",children:e.jsxs(w,{className:"p-4",children:[e.jsx("h4",{className:"font-semibold mb-2",children:t.title}),e.jsx("p",{className:"text-gray-600 text-sm",children:t.description})]})},n))}),r&&e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Ajouter un projet"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(I,{value:f.title,onChange:t=>C(n=>({...n,title:t.target.value})),placeholder:"Titre du projet"}),e.jsx(X,{value:f.description,onChange:t=>C(n=>({...n,description:t.target.value})),placeholder:"Description du projet",rows:3}),e.jsxs(u,{onClick:Ne,children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"Ajouter"]})]})]})]})})]})}),e.jsx(L,{value:"availability",className:"space-y-6",children:e.jsxs(y,{children:[e.jsx(T,{children:e.jsxs(R,{className:"flex items-center text-gray-800",children:[e.jsx(Z,{className:"w-5 h-5 mr-2 text-blue-600"}),"Gérer mes disponibilités"]})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-6",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Ajouter une plage horaire"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(k,{htmlFor:"availabilityStart",children:"Début"}),e.jsx(I,{id:"availabilityStart",type:"datetime-local",value:g?.start.toISOString().slice(0,16)||"",onChange:t=>{const n=new Date(t.target.value);A(b=>({...b||{start:new Date,end:new Date},start:n}))}})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(k,{htmlFor:"availabilityEnd",children:"Fin"}),e.jsx(I,{id:"availabilityEnd",type:"datetime-local",value:g?.end.toISOString().slice(0,16)||"",onChange:t=>{const n=new Date(t.target.value);A(b=>({...b||{start:new Date,end:new Date},end:n}))}})]})]}),e.jsxs(u,{onClick:ye,disabled:!g||!g.start||!g.end||g.start>=g.end,children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"Ajouter plage"]})]})]}),i.calendarAvailability.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Plages planifiées"}),e.jsx("div",{className:"space-y-2",children:i.calendarAvailability.map((t,n)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-100 p-2 rounded",children:[e.jsxs("span",{children:[t.start.toLocaleString()," - ",t.end.toLocaleString()]}),e.jsx(u,{variant:"ghost",size:"sm",onClick:()=>we(n),children:e.jsx(J,{className:"w-4 h-4 text-red-500"})})]},n))})]})]}):e.jsx(Ue,{availability:i.calendarAvailability})})})]})})]}),e.jsx(L,{value:"preferences",children:e.jsxs(y,{children:[e.jsx(T,{children:e.jsx(R,{children:"Préférences"})}),e.jsx(w,{className:"space-y-4",children:d==="provider"&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Disponible pour de nouveaux projets"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Afficher votre profil aux clients"})]}),e.jsx(fe,{checked:i.availability,onCheckedChange:t=>p(n=>({...n,availability:t})),disabled:!r})]})})]})})]}),r&&e.jsxs("div",{className:"flex justify-between items-center mt-8",children:[e.jsxs(u,{onClick:()=>_(!S),variant:"outline",className:"bg-gradient-to-r from-purple-50 to-blue-50 border-purple-200 text-purple-700 hover:from-purple-100 hover:to-blue-100",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),S?"Masquer":"Afficher"," l'Assistant IA"]}),e.jsxs(u,{onClick:N,className:"bg-green-600 hover:bg-green-700 shadow-lg",children:[e.jsx(Ve,{className:"w-4 h-4 mr-2"}),"Sauvegarder les modifications"]})]}),S&&r&&e.jsxs(y,{className:"mt-6 border-2 border-purple-200 bg-gradient-to-r from-purple-50 to-blue-50",children:[e.jsx(T,{children:e.jsxs(R,{className:"flex items-center gap-2 text-purple-800",children:[e.jsx(z,{className:"h-5 w-5"}),"Assistant IA Global"]})}),e.jsx(w,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs(u,{onClick:se,variant:"outline",className:"border-purple-200 hover:bg-purple-50 text-purple-700",children:[e.jsx(Lightbulb,{className:"h-4 w-4 mr-2"}),"Suggérer mots-clés"]}),e.jsxs(u,{onClick:()=>W("bio"),variant:"outline",className:"border-blue-200 hover:bg-blue-50 text-blue-700",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Améliorer description"]}),e.jsxs(u,{onClick:()=>V("bio"),variant:"outline",className:"border-green-200 hover:bg-green-50 text-green-700",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Enrichir profil"]})]})})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsx(y,{className:"max-w-md w-full mx-4",children:e.jsxs(w,{className:"p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Connexion requise"}),e.jsx("p",{className:"text-gray-600",children:"Connectez-vous pour accéder à votre profil"})]})})})}export{Os as default};
