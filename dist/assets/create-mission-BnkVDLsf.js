import{j as t}from"./ui-BW6CElO3.js";import{u,d as g,s as x,B as h,A as v}from"./index-DChA3k2k.js";import{P as b}from"./progressive-flow-2eBR6v1L.js";import{o as f,u as n,a as y,s as o,e as j,d as w,n as T}from"./types-B-FkpF08.js";import"./vendor-D3F3s8fL.js";import"./badge-CH6FG5-c.js";import"./textarea-NR5ud71Q.js";import"./activity-D34kdPC-.js";import"./dollar-sign-CAZe5YJM.js";import"./award-Cx_v7fxK.js";import"./book-open-BhJJbpHI.js";import"./calendar-HP13yPmz.js";import"./switch-hSqN9gRF.js";import"./index-DDShL7U6.js";import"./chevron-left-TpvuTMBP.js";import"./chevron-up-Diyo9m3Z.js";import"./circle-alert-DH5scZkV.js";import"./circle-x-CD5xPGxu.js";import"./hand-BbKxXfWr.js";import"./clock-B-dQt45w.js";import"./video-Bvb8-tQY.js";import"./euro-_aFZ14DA.js";import"./eye-CJIl_IPq.js";import"./filter-CPe4qOdZ.js";import"./rocket-DOoXaRqv.js";import"./house-CYI3zcaO.js";import"./lightbulb-BGn4Tdl5.js";import"./loader-circle-CxsQHIem.js";import"./log-in-3tnb8C3A.js";import"./mail-DJJnE6ht.js";import"./map-pin-DHaYy9Gx.js";import"./message-circle-VSiZ3HzF.js";import"./settings-qB8-zSHU.js";import"./phone-BOaoS232.js";import"./refresh-cw-D2Ba4Itb.js";import"./repeat-CwCltwp7.js";import"./save-BexdGasa.js";import"./send-BUGg8C5v.js";import"./shield-GjNvJzAJ.js";import"./square-pen-DGtcIG8X.js";import"./star-D-w6fRV4.js";import"./thumbs-up-B6YcGW-G.js";import"./trash-2-D3p1kDsP.js";import"./trending-up-CTpUpreO.js";import"./triangle-alert-DEf-BKtp.js";import"./user-check-l8cMdvWH.js";import"./wand-sparkles-DysCZwjd.js";import"./categories-Ci5EyH-Y.js";import"./feedback-buttons-pcfT0bVI.js";const N=f({title:o().min(1,"Le titre est requis"),description:o().min(10,"La description doit contenir au moins 10 caract√®res"),category:o().min(1,"La cat√©gorie est requise"),budget:n([o(),T()]).optional(),location:o().optional(),urgency:j(["low","medium","high"]).default("medium"),requirements:o().optional(),tags:y(o()).default([]),deadline:n([o(),w()]).optional()});function wt(){const[,r]=u(),{user:e}=g(),{fetchCall:s,isLoading:p,error:l}=x(),c=i=>r(i),d=async i=>{if(!e||!e.id)throw new Error("Vous devez √™tre connect√© pour cr√©er une mission");const a={...N.parse(i),userId:e.id};console.log("üöÄ Frontend: Submitting validated mission data with user:",JSON.stringify(a,null,2));try{await s("HEAD","/api/health",void 0,{errorContext:"Test de connectivit√©",showErrorToast:!1,showSuccessToast:!1})}catch{throw new Error("Impossible de contacter le serveur")}const m=await s("POST","/api/missions",a,{successMessage:"‚úÖ Mission cr√©√©e avec succ√®s !",errorContext:"Cr√©ation de mission"});m&&(console.log("‚úÖ Frontend: Mission created successfully:",m),c("/missions"))};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsx("div",{className:"mb-8",children:t.jsxs(h,{variant:"ghost",onClick:()=>r("/"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900","data-testid":"button-back-home",children:[t.jsx(v,{className:"w-4 h-4"}),"Retour √† l'accueil"]})}),t.jsxs("div",{className:"px-2 sm:px-0 relative",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-200/20 via-indigo-200/15 to-purple-200/20 rounded-3xl blur-2xl transform -rotate-1 scale-105"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-indigo-100/30 via-purple-100/20 to-blue-100/25 rounded-3xl blur-xl transform rotate-1 scale-102"}),t.jsx("div",{className:"relative z-10",children:t.jsx(b,{onSubmit:d,isLoading:p,error:l,onComplete:i=>{console.log("Donn√©es du projet:",i)}})})]})]})})}export{wt as default};
