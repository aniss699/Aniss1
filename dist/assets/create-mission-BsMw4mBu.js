import{j as t}from"./ui-BW6CElO3.js";import{u,d as g,s as x,B as h,A as v}from"./index-bDUphUuA.js";import{P as b}from"./progressive-flow-Ck_gogmL.js";import{o as f,u as n,a as y,s as o,e as j,d as w,n as T}from"./types-B-FkpF08.js";import"./vendor-D3F3s8fL.js";import"./badge-CbjNB6J3.js";import"./textarea-Bz6bWooi.js";import"./activity-UREy71GU.js";import"./dollar-sign-BwHSToUf.js";import"./award-Cwe9-MUk.js";import"./book-open-DaU0q79p.js";import"./calendar-CzJqkRFv.js";import"./switch-DmgE1qAY.js";import"./index-DDShL7U6.js";import"./chevron-left-hXwEv1gP.js";import"./chevron-up-BRBn3miO.js";import"./circle-alert-B90u73Hm.js";import"./circle-x-ttBmBArg.js";import"./hand-DliXvbnx.js";import"./clock-Euc7VWad.js";import"./video-Fd89Gh6t.js";import"./euro-DCFOlns_.js";import"./eye-D6LCTxC-.js";import"./filter-CAFLvL7s.js";import"./rocket-4hh498QB.js";import"./house-RAEtxPig.js";import"./lightbulb-CtDMXZiI.js";import"./loader-circle-BZSZ3fBX.js";import"./log-in-BoWjtPPa.js";import"./mail-BrFsVzFL.js";import"./map-pin-C75Sp87e.js";import"./message-circle-BMIQ3iTA.js";import"./settings-tTDiGWNK.js";import"./phone-DKCuee1o.js";import"./refresh-cw-BqJPx0V8.js";import"./repeat-Dq167IwT.js";import"./save-D7HGZlvP.js";import"./send-nvBeAjrU.js";import"./shield-DjNcM-f2.js";import"./square-pen-BW-eyFcd.js";import"./star-Dpk2Xx3H.js";import"./thumbs-up-CDAgkzxc.js";import"./trash-2-DqvrB68-.js";import"./trending-up-BUrviamT.js";import"./triangle-alert-DrdL1M7N.js";import"./user-check-1JGXnfHU.js";import"./wand-sparkles-XSy0-Zbc.js";import"./categories-Ci5EyH-Y.js";import"./feedback-buttons-CQuUjOC7.js";const N=f({title:o().min(1,"Le titre est requis"),description:o().min(10,"La description doit contenir au moins 10 caract√®res"),category:o().min(1,"La cat√©gorie est requise"),budget:n([o(),T()]).optional(),location:o().optional(),urgency:j(["low","medium","high"]).default("medium"),requirements:o().optional(),tags:y(o()).default([]),deadline:n([o(),w()]).optional()});function wt(){const[,r]=u(),{user:e}=g(),{fetchCall:s,isLoading:p,error:l}=x(),c=i=>r(i),d=async i=>{if(!e||!e.id)throw new Error("Vous devez √™tre connect√© pour cr√©er une mission");const a={...N.parse(i),userId:e.id};console.log("üöÄ Frontend: Submitting validated mission data with user:",JSON.stringify(a,null,2));try{await s("HEAD","/api/health",void 0,{errorContext:"Test de connectivit√©",showErrorToast:!1,showSuccessToast:!1})}catch{throw new Error("Impossible de contacter le serveur")}const m=await s("POST","/api/missions",a,{successMessage:"‚úÖ Mission cr√©√©e avec succ√®s !",errorContext:"Cr√©ation de mission"});m&&(console.log("‚úÖ Frontend: Mission created successfully:",m),c("/missions"))};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsx("div",{className:"mb-8",children:t.jsxs(h,{variant:"ghost",onClick:()=>r("/"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900","data-testid":"button-back-home",children:[t.jsx(v,{className:"w-4 h-4"}),"Retour √† l'accueil"]})}),t.jsxs("div",{className:"px-2 sm:px-0 relative",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-200/20 via-indigo-200/15 to-purple-200/20 rounded-3xl blur-2xl transform -rotate-1 scale-105"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-indigo-100/30 via-purple-100/20 to-blue-100/25 rounded-3xl blur-xl transform rotate-1 scale-102"}),t.jsx("div",{className:"relative z-10",children:t.jsx(b,{onSubmit:d,isLoading:p,error:l,onComplete:i=>{console.log("Donn√©es du projet:",i)}})})]})]})})}export{wt as default};
